_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{dgQ7:function(a,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/CompanysStatistics/[name]",function(){return s("lY3W")}])},lY3W:function(a,t,s){"use strict";s.r(t);var l=s("q1tI"),e=s.n(l),o=s("3Vrt"),c=s("UDbo"),n=s("oOAM"),i=(s("Aho5"),s("8lYe")),d=s("Aqy4"),r=s("On4J"),b=s("/s8U"),u=s("c7gn"),m=s("C2f+"),v=s("nOHt"),h=s("sZxp"),p=s.n(h),g=s("VtrM"),y=e.a.createElement;t.default=Object(u.b)((function(){var a={legend:{labels:{fontColor:"white",fontSize:12}}},t=Object(l.useState)([]),s=t[0],h=t[1],x=Object(l.useState)([]),w=x[0],C=x[1],f=Object(l.useState)([]),T=f[0],A=f[1],F=Object(l.useState)([]),S=F[0],N=F[1],k=Object(v.useRouter)(),O=k.query.name,_=Object(u.e)(),j=_.toggler,E=_.settoggler,B=_.loading,J=Object(m.a)(O),M=J.data,R=J.isLoading,D=(J.isError,!R&&M.data);console.log(D);var Y,q=R||B,z=Object(l.useState)("branches"),G=z[0],I=z[1],P=Object(l.useState)(!0),Q=P[0],U=P[1],V=Object(l.useState)([]),W=V[0],X=V[1],H=Object(l.useState)(),L=H[0],Z=H[1],K=Object(l.useState)(""),$=K[0],aa=K[1],ta=Object(l.useState)(),sa=ta[0],la=ta[1],ea=Object(l.useState)(),oa=ea[0],ca=(ea[1],Object(l.useState)(!1)),na=ca[0],ia=ca[1],da=Object(l.useState)(!1),ra=da[0],ba=da[1],ua=Object(l.useState)(""),ma=ua[0],va=ua[1];if(Q&&D){va(D.Companys[0].company_name);var ha=D.Statistics.theYear;X(D.Statistics.All);var pa=ha.months;h({labels:["\u0627\u0644\u0645\u0631\u0633\u0644\u0629","\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629","\u0627\u0644\u0645\u0646\u062a\u0647\u064a\u0629 ","\u0627\u0644\u062c\u062f\u064a\u062f\u0629"],datasets:[{data:[ha.sentTotalCount,ha.usedTotalCount,ha.overTotalCount,ha.newTotalCount],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#22936f"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#22936f"]}]}),C({labels:["\u0627\u0644\u0645\u0631\u0633\u0644\u0629","\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629","\u0627\u0644\u0645\u0646\u062a\u0647\u064a\u0629 ","\u0627\u0644\u062c\u062f\u064a\u062f\u0629"],datasets:[{data:[ha.sentTotal,ha.usedTotal,ha.overTotal,ha.newTotal],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#22936f"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#22936f"]}]}),A({labels:["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],datasets:[{label:"\u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0629 \u0627\u0644\u0633\u0646\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",backgroundColor:"#42A5F5",data:[pa.JanuaryTotalCount,pa.FebruaryTotalCount,pa.MarchTotalCount,pa.AprilTotalCount,pa.MayTotalCount,pa.JuneTotalCount,pa.JulyTotalCount,pa.AugustTotalCount,pa.SeptemberTotalCount,pa.OctoberTotalCount,pa.NovemberTotalCount,pa.DecemberTotalCount]}]}),N({labels:["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],datasets:[{label:"\u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0629 \u0627\u0644\u0633\u0646\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",backgroundColor:"#42A5F5",data:[pa.JanuaryTotal,pa.FebruaryTotal,pa.MarchTotal,pa.AprilTotal,pa.MayTotal,pa.JuneTotal,pa.JulyTotal,pa.AugustTotal,pa.SeptemberTotal,pa.OctoberTotal,pa.NovemberTotal,pa.DecemberTotal]}]}),U(!1)}function ga(){ba(!1),ia(!1)}function ya(){Object(g.b)("rabwa/CompanysStatistic?name="+O),ba(!1),ia(!1)}return y(e.a.Fragment,null,y("body",{className:"rtl g-sidenav-show g-sidenav-pinned",dir:"rtl"},y("div",null,j?y(n.a,null):"",y("div",{className:"main-content",id:"panel"},y(e.a.Fragment,null,y("nav",{className:"navbar navbar-top navbar-expand navbar-dark bg-primary border-bottom"},y("a",{class:"nav-link",role:"button",href:"#","aria-haspopup":"true","aria-expanded":"false",style:{display:"block",zIndex:"99999999999999999",position:"relative",height:"40px",backgroundColor:"white",padding:"10px",marginRight:"10px"},onClick:function(){E(!j)}},y("i",{className:"ni ni-align-left-2"}))),y("div",{className:"header bg-primary pb-6"},"coubons"==G?y(e.a.Fragment,null,y("h1",{style:{textAlign:"center"}},ma+$)):"",D?"No_data"==D.Companys?y("div",{className:"row justify-content-center"},y("div",{className:" col "}," ",y("div",{style:{float:"right"}},y("button",{onClick:function(){k.push("/CompanysStatistics")},class:"btn btn-icon btn-primary",type:"button"},y("span",{class:"btn-inner--icon"},y("i",{class:"fa fa-arrow-right","aria-hidden":"true"}))),y("h2",{style:{marginRight:"0.8em",display:"inline"}},"\u0627\u062e\u062a\u0631 \u0627\u0644\u0641\u0631\u0639 :"),y("div",{style:{clear:"both"}}),y("h2",{style:{marginTop:"0.8em"}},"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a")))):y("div",{className:"row justify-content-center"},y("div",{className:" col "},(Y=D.Companys,localStorage.CurrentCity="",y(e.a.Fragment,null,"branches"==G?y("div",null,y("h1",{style:{textAlign:"center"}},ma),y("div",{style:{float:"right"}},y("button",{onClick:function(){k.push("/CompanysStatistics"),aa("")},class:"btn btn-icon btn-white",type:"button"},y("span",{class:"btn-inner--icon"},y("i",{class:"fa fa-arrow-right","aria-hidden":"true"}))),y("h2",{style:{marginRight:"0.8em",display:"inline"}},"\u0627\u062e\u062a\u0631 \u0627\u0644\u0641\u0631\u0639 :"),y("div",{style:{clear:"both"}})),y("div",{style:{clear:"both"}}),y("div",{class:"col-xl-12 col-md-12",style:{height:"50px"}}),Y.map((function(a,t){return a.city==localStorage.CurrentCity?y(e.a.Fragment,null,y("div",{class:"col-xl-3 col-md-6",onClick:function(){Z(a.id),la(a.BracnhCode),I("coubons"),aa(" > "+a.branch_name)}},y("div",{class:"card card-stats"},y("div",{class:"card-body"},y("div",{class:"row"},y("div",{class:"col-auto"},y("div",{class:"icon icon-shape bg-gradient-primary text-white rounded-circle shadow"},y("i",{class:"ni ni-shop"}))),y("div",{class:"col"},y("span",{class:"h2 font-weight-bold mb-0"},a.branch_name),y("h5",{class:"card-title text-uppercase text-muted mb-0"},a.ShortDesc))))))):(localStorage.CurrentCity=a.city,y(e.a.Fragment,null,y("div",{class:"col-xl-12 col-md-12",style:{height:"50px",textAlign:"right"}}," ",y("h1",null,a.city)),y("div",{class:"col-xl-3 col-md-6",onClick:function(){Z(a.id),la(a.BracnhCode),aa(" > "+a.branch_name),I("coubons")}},y("div",{class:"card card-stats"},y("div",{class:"card-body"},y("div",{class:"row"},y("div",{class:"col-auto"},y("div",{class:"icon icon-shape bg-gradient-primary text-white rounded-circle shadow"},y("i",{class:"ni ni-shop"}))),y("div",{class:"col"},y("span",{class:"h2 font-weight-bold mb-0"},a.branch_name),y("h5",{class:"card-title text-uppercase text-muted mb-0"},a.ShortDesc))))))))}))," "):"coubons"==G?y(e.a.Fragment,null):"")))):"")),y("div",{className:"container-fluid mt--6"},"coubons"==G?y(e.a.Fragment,null,y(d.a,{branch_id:L,BracnhCode:sa,companyName:O,setChoose:function(a){I(a)}})):y("div",{className:"row justify-content-center"},y("div",{className:" col "},y("div",{className:"card"},y("div",{className:"card-header bg-transparent"}),D?y(e.a.Fragment,null,y("div",{style:{padding:25}},y("div",{class:"col-xl-12 col-md-12"},y("div",{class:""},y("div",{class:"card-body  rounded"},y("div",{class:"row"},y("div",{class:"col"},y("h1",{style:{textAlign:"center"}},"\u062c\u0645\u064a\u0639 \u0643\u0648\u0628\u0648\u0646\u0627\u062a ",ma)))))),y("div",{class:"row",dir:"rtl"},y("div",{class:"col-xl-3 col-md-3"},y("div",{class:"card card-stats"},y("div",{class:"card-body"},y("div",{class:"row"},y("div",{class:"col"},y("h5",{class:"card-title text-uppercase text-muted mb-0"},"\u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u0629"),y("span",{class:"h2  font-weight-bold mb-0"},W.usedTotalCountAll," \u0643\u0648\u0628\u0648\u0646"),y("br",null),y("span",{style:{color:"green"},class:"h3 font-weight-bold mb-0"},W.usedTotalAll," \u0631.\u0633")),y("div",{class:"col-auto"},y("div",{class:"icon icon-shape bg-gradient-danger text-white rounded-circle shadow"},y("i",{class:"ni ni-scissors"}))))))),y("div",{class:"col-xl-3 col-md-3"},y("div",{class:"card card-stats"},y("div",{class:"card-body"},y("div",{class:"row"},y("div",{class:"col"},y("h5",{class:"card-title text-uppercase text-muted mb-0"},"\u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u0645\u0631\u0633\u0644\u0629"),y("span",{class:"h2  font-weight-bold mb-0"},W.sentTotalCountAll," \u0643\u0648\u0628\u0648\u0646"),y("br",null),y("span",{style:{color:"green"},class:"h3 font-weight-bold mb-0"},W.sentTotalAll," \u0631.\u0633")),y("div",{class:"col-auto"},y("div",{class:"icon icon-shape bg-gradient-info text-white rounded-circle shadow"},y("i",{class:"ni ni-send"}))))))),y("div",{class:"col-xl-3 col-md-3"},y("div",{class:"card card-stats"},y("div",{class:"card-body"},y("div",{class:"row"},y("div",{class:"col"},y("h5",{class:"card-title text-uppercase text-muted mb-0"},"\u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u062c\u062f\u064a\u062f\u0629"),y("span",{class:"h2  font-weight-bold mb-0"},W.newTotalCountAll," \u0643\u0648\u0628\u0648\u0646"),y("br",null),y("span",{style:{color:"green"},class:"h3 font-weight-bold mb-0"},W.newTotalAll," \u0631.\u0633")),y("div",{class:"col-auto"},y("div",{class:"icon icon-shape bg-gradient-primary text-white rounded-circle shadow"},y("i",{class:"ni ni-tag"}))))))),y("div",{class:"col-xl-3 col-md-3"},y("div",{class:"card card-stats"},y("div",{class:"card-body"},y("div",{class:"row"},y("div",{class:"col"},y("h5",{class:"card-title text-uppercase text-muted mb-0"},"\u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u0645\u0646\u062a\u0647\u064a\u0629"),y("span",{class:"h2  font-weight-bold mb-0"},W.overTotalCountAll," \u0643\u0648\u0628\u0648\u0646"),y("br",null),y("span",{style:{color:"green"},class:"h3 font-weight-bold mb-0"},W.overTotalAll," \u0631.\u0633")),y("div",{class:"col-auto"},y("div",{class:"icon icon-shape bg-gradient-primary text-white rounded-circle shadow"},y("i",{class:"ni ni-tag"}))))))),y("div",{class:"col-xl-12 col-md-12"},y("div",{class:"card card-stats"},y("div",{class:"card-body"},y("div",{class:"row"},y("div",{class:"col"},y("h5",{class:"card-title text-uppercase text-muted mb-0"},"\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a"),y("span",{class:"h2  font-weight-bold mb-0"},W.usedTotalCountAll+W.sentTotalCountAll+W.newTotalCountAll," ","\u0643\u0648\u0628\u0648\u0646"),y("br",null),y("span",{style:{color:"green"},class:"h3 font-weight-bold mb-0"},W.usedTotalAll+W.sentTotalAll+W.newTotalAll," ","\u0631.\u0633")),y("div",{class:"col-auto"},y("div",{class:"icon icon-shape bg-primary text-white rounded-circle shadow"},y("i",{class:"ni ni-chart-bar-32"}))))))))),y("div",{class:"col-xl-12 col-md-12"},y("div",{class:""},y("div",{class:"card-body  rounded"},y("div",{class:"row"},y("div",{class:"col"},y("h1",{style:{textAlign:"center"}},"\u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u0633\u0646\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629")))))),y("div",{class:"row",dir:"rtl"},y("div",{class:"col-6"},y("div",{class:"nav-wrapper"},y("ul",{class:"nav nav-pills nav-fill flex-column flex-md-row",id:"tabs-icons-text",role:"tablist"},y("li",{class:"nav-item"},y("a",{class:"nav-link mb-sm-3 mb-md-0 active",id:"tabs-icons-text-1-tab","data-toggle":"tab",href:"#tabs-icons-text-1",role:"tab","aria-controls":"tabs-icons-text-1","aria-selected":"true"},y("i",{class:"ni ni-cloud-upload-96 mr-2"}),"\u0627\u0644\u0643\u0645\u064a\u0629")),y("li",{class:"nav-item"},y("a",{class:"nav-link mb-sm-3 mb-md-0",id:"tabs-icons-text-2-tab","data-toggle":"tab",href:"#tabs-icons-text-2",role:"tab","aria-controls":"tabs-icons-text-2","aria-selected":"false"},y("i",{class:"ni ni-bell-55 mr-2"})," \u0627\u0644\u0642\u064a\u0645\u0629 \u0628\u0627\u0644\u0631\u064a\u0627\u0644")))),y("div",{class:"card card-stats"},y("div",{class:"card-body"},y("div",{class:"tab-content",id:"myTabContent"},y("div",{class:"tab-pane fade show active",id:"tabs-icons-text-1",role:"tabpanel","aria-labelledby":"tabs-icons-text-1-tab"},y(c.Bar,{data:T,options:{legend:{display:!1},barRoundness:.3,title:{display:!0,text:"\u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0629 \u0628\u0627\u0644\u0633\u0646\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629"}}})),y("div",{class:"tab-pane fade",id:"tabs-icons-text-2",role:"tabpanel","aria-labelledby":"tabs-icons-text-2-tab"},y(c.Bar,{data:S,options:{legend:{display:!1},barRoundness:.3,title:{display:!0,text:" \u0642\u064a\u0645\u0629 \u0627\u0644\u0643\u0648\u0628\u0648\u0646\u0627\u062a \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0629 \u0628\u0627\u0644\u0633\u0646\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629"}}})))))),y("div",{class:"col-6"},y("div",{class:"nav-wrapper"},y("ul",{class:"nav nav-pills nav-fill flex-column flex-md-row",id:"tabs-icons-text",role:"tablist"},y("li",{class:"nav-item"},y("a",{class:"nav-link mb-sm-3 mb-md-0 active",id:"tabs-icons-text-4-tab","data-toggle":"tab",href:"#tabs-icons-text-4",role:"tab","aria-controls":"tabs-icons-text-4","aria-selected":"true"},y("i",{class:"ni ni-cloud-upload-96 mr-2"}),"\u0627\u0644\u0643\u0645\u064a\u0629")),y("li",{class:"nav-item"},y("a",{class:"nav-link mb-sm-3 mb-md-0",id:"tabs-icons-text-3-tab","data-toggle":"tab",href:"#tabs-icons-text-3",role:"tab","aria-controls":"tabs-icons-text-3","aria-selected":"false"},y("i",{class:"ni ni-bell-55 mr-2"})," \u0627\u0644\u0642\u064a\u0645\u0629 \u0628\u0627\u0644\u0631\u064a\u0627\u0644")))),y("div",{class:"card card-stats",style:{backgroundColor:"rgb(23, 43, 77)"}}," ",y("div",{class:"card-body"},y("div",{class:"tab-content",id:"myTabContent"},y("div",{class:"tab-pane fade show active",id:"tabs-icons-text-4",role:"tabpanel","aria-labelledby":"tabs-icons-text-4-tab"},y(o.Chart,{type:"doughnut",data:s,options:a})),y("div",{class:"tab-pane fade",id:"tabs-icons-text-3",role:"tabpanel","aria-labelledby":"tabs-icons-text-3-tab"},y(o.Chart,{type:"doughnut",data:w,options:a})))))))," "):"",0==ra?y("div",{className:"card-body"}):y("div",{className:"card-body"}," ","branches"==G?0==na?y(r.a,{company_id:D.Companys[0].company_id,GoBackAndTriggerMutation:ya,changenewCompany:ga}):y(b.a,{company_id:D.Companys[0].company_id,GoBackAndTriggerMutation:ya,changenewCompany:ga,branch:oa}):"")))),y(i.a,null),q?y(p.a,{height:40,count:10}):"")))))}))}},[["dgQ7",0,2,11,15,17,1,3,4,5,6,7,8,9,10,12,14,16,22]]]);