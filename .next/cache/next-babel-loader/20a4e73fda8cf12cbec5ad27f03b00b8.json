{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect, useContext } from \"react\"; //\n\nimport { useForm } from \"react-hook-form\";\nimport api from \"../services/Api\";\nimport { useAlert } from \"react-alert\";\nimport { useRouter } from \"next/router\";\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\n\nfunction Add_aera({\n  GoBackAndTriggerMutation,\n  Parent_id\n}) {\n  console.log(\"------------------------------------\");\n  console.log(Parent_id);\n  const alert = useAlert();\n  const router = useRouter();\n  const {\n    toggler,\n    settoggler,\n    loading\n  } = useAuth();\n  const {\n    0: spinner,\n    1: setspinner\n  } = useState(false);\n  const {\n    0: InputTypedis,\n    1: setInputTypedis\n  } = useState(false);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm({//mode: \"onChange\",\n  });\n\n  const onSubmit = formdata => {\n    formdata = _objectSpread(_objectSpread({}, formdata), {}, {\n      id: Parent_id\n    });\n    setspinner(true);\n    console.log(formdata);\n    api.post(\"rabwa/Add_aera\", formdata).then(res => {\n      console.log(res.data);\n      setspinner(false);\n\n      if (res.data > 0) {\n        alert.show(\"تم بنجاح\", {\n          timeout: 2000,\n          type: \"success\"\n        });\n        GoBackAndTriggerMutation(); //router.push(\"/companys/[name]\", \"/companys/\" + formdata.companyName);\n      }\n    }).catch(err => {\n      console.log(err);\n      setspinner(false);\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"br\", null), __jsx(\"div\", {\n    class: \"col-xl-12 col-md-12\",\n    style: {\n      height: \"50px\"\n    }\n  }), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, __jsx(\"div\", {\n    className: \"pl-lg-4\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-lg-12\"\n  }, __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", {\n    className: \"form-control-label\"\n  }, \"\\u0625\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u0637\\u0642\\u0629 \"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    ref: register({\n      required: true\n    }),\n    className: \"form-control\",\n    placeholder: \"\\u0625\\u0633\\u0645 \\u0627\\u0644\\u062E\\u062F\\u0645\\u0629\"\n  })), errors.name && errors.name.type === \"required\" && __jsx(\"p\", {\n    style: {\n      color: \"red\"\n    }\n  }, \"\\u0647\\u0630\\u0627 \\u0627\\u0644\\u062D\\u0642\\u0644 \\u0645\\u0637\\u0644\\u0648\\u0628\")))), spinner ? __jsx(\"button\", {\n    className: \"btn btn-default\",\n    disabled: true,\n    style: {\n      float: \"left\"\n    }\n  }, __jsx(\"span\", {\n    className: \"spinner-grow spinner-grow-sm\"\n  }), \"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u0625\\u0631\\u0633\\u0627\\u0644 ..\") : __jsx(\"input\", {\n    style: {\n      float: \"left\"\n    },\n    type: \"submit\",\n    className: \"btn btn-default\",\n    value: loading ? \"Loading...\" : \"إنشاء منطقة\"\n  })));\n}\n\nexport default Add_aera;","map":null,"metadata":{},"sourceType":"module"}