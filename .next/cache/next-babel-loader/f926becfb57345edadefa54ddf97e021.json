{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from \"react\"; //\n\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\nimport { useRouter } from \"next/router\";\nimport { useForm } from \"react-hook-form\";\nimport Admin_nav from \"../components/Admin_nav\";\nimport HeaderNav from \"../components/HeaderNav\";\nimport Footer from \"../components/Footer\"; //import EditableImage from \"../Components/editable-image/EditableImage\";\n//import ButtonUploadImage from \"../Components/buttonupload\";\n\nimport api from \"../services/Api\";\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\n\nfunction NewCompany() {\n  const token = Cookies.get(\"token\");\n  const siteUrl = Cookies.get(\"siteUrl\");\n  const router = useRouter();\n  const {\n    toggler,\n    settoggler,\n    loading\n  } = useAuth();\n  const {\n    0: spinner,\n    1: setspinner\n  } = useState(false);\n  const {\n    0: ProductImage,\n    1: setProductImage\n  } = useState();\n\n  function handleThumbnailProduct(file) {\n    let imageObj = {\n      id: file.name,\n      name: file.name,\n      isUloading: true,\n      imageObject: file\n    };\n    console.log(imageObj);\n    setProductImage(imageObj);\n    let formData = new FormData();\n    formData.append(\"file\", file);\n    axios.post(siteUrl + \"wp/v2/media\", formData, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(result => {\n      console.log(result.data.source_url);\n    });\n    /* api.post(\"wp/v2/media\", { formData }).then((res) => {\r\n      console.log(res.source_url);\r\n    });*/\n\n    /* API.WP_uploadImage(token, formData)\r\n          .then((data) => {\r\n            setProductImage(data.source_url);\r\n            setIsThumbnailUploade(true);\r\n            console.log(data.source_url);\r\n            setconfImage(data.source_url);\r\n          })\r\n          .catch((error) => {});*/\n  }\n\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm({//mode: \"onChange\",\n  });\n  return __jsx(\"body\", {\n    className: \"rtl g-sidenav-show g-sidenav-pinned\",\n    dir: \"rtl\"\n  }, __jsx(\"div\", null, toggler ? __jsx(Admin_nav, null) : \"\", __jsx(\"div\", {\n    className: \"main-content\",\n    id: \"panel\"\n  }, __jsx(HeaderNav, null), __jsx(\"div\", {\n    className: \"container-fluid mt--6\"\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\"\n  }, __jsx(\"div\", {\n    className: \" col \"\n  }, __jsx(\"div\", {\n    className: \"card\"\n  }, __jsx(\"div\", {\n    className: \"card-header bg-transparent\"\n  }, __jsx(\"h3\", {\n    className: \"mb-0\"\n  }, \"Form example\")), __jsx(\"div\", {\n    className: \"card-body\"\n  }, __jsx(\"h6\", {\n    className: \"heading-small text-muted mb-4\"\n  }, \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"), __jsx(\"div\", {\n    className: \"pl-lg-4\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-lg-6\"\n  }, __jsx(\"div\", {\n    style: {\n      width: \"140px\",\n      margin: \"2em auto\"\n    }\n  }, ProductImage ? \"\" : \"\")))))))), __jsx(Footer, null)))));\n}\n\nexport default ProtectRoute(NewCompany);","map":null,"metadata":{},"sourceType":"module"}