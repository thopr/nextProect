{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Admin_nav from \"../components/Admin_nav\";\nimport HeaderNav from \"../components/HeaderNav\";\nimport Footer from \"../components/Footer\";\nimport NewCategoryForm from \"../components/NewCategoryForm\";\nimport EditCategoryForm from \"../components/EditCategoryForm\";\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\nimport { GetCategories } from \"../services/api_get\";\nimport { mutate } from \"swr\";\nimport { useRouter } from \"next/router\";\nimport Skeleton from \"react-loading-skeleton\";\n\nfunction Needs() {\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      toggler = _useAuth.toggler,\n      settoggler = _useAuth.settoggler,\n      loading = _useAuth.loading;\n\n  var _GetCategories = GetCategories(),\n      data = _GetCategories.data,\n      isLoading = _GetCategories.isLoading,\n      isError = _GetCategories.isError;\n\n  var results = isLoading ? false : data.data;\n  var showSkeleton = isLoading || loading;\n\n  var _useState = useState(false),\n      newCompany = _useState[0],\n      setnewCompany = _useState[1];\n\n  var _useState2 = useState(false),\n      edit = _useState2[0],\n      setedit = _useState2[1];\n\n  var _useState3 = useState([]),\n      Category = _useState3[0],\n      setCategory = _useState3[1];\n  /*function prefetch(name) {\r\n    mutate(\r\n      \"rabwa/getCompany?name=\" + name,\r\n      api.get(\"rabwa/getCompany?name=\" + name).then((res) => console.log(res))\r\n    );\r\n    // the second parameter is a Promise\r\n    // SWR will use the result when it resolves\r\n  }*/\n\n\n  function GoBackAndTriggerMutation() {\n    mutate(\"rabwa/GetCategories\");\n    setedit(false);\n    setnewCompany(false); //setnewCompany(false);\n  }\n\n  function changenewCompany() {\n    setedit(false);\n    setnewCompany(false);\n  }\n\n  console.log(newCompany);\n  console.log(results);\n\n  function displayCards(results) {\n    return __jsx(\"div\", null, __jsx(\"div\", {\n      style: {\n        \"float\": \"right\"\n      }\n    }, __jsx(\"h2\", {\n      style: {\n        marginRight: \"0.8em\",\n        display: \"inline\"\n      }\n    }, \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0625\\u062D\\u062A\\u064A\\u0627\\u062C\\u0627\\u062A :\"), __jsx(\"div\", {\n      style: {\n        clear: \"both\"\n      }\n    })), __jsx(\"div\", {\n      \"class\": \"col-xl-12 col-md-12\",\n      style: {\n        height: \"50px\"\n      }\n    }), results.map(function (cat, index) {\n      return __jsx(\"div\", {\n        \"class\": \"col-xl-3 col-md-6\" //onMouseEnter={() => prefetch(comp.name)}\n\n      }, __jsx(\"div\", {\n        \"class\": \"card card-stats\"\n      }, __jsx(\"div\", {\n        \"class\": \"btn btn-icon \",\n        style: {\n          \"float\": \"left\",\n          zIndex: 9999999999,\n          position: \"absolute\",\n          left: 0,\n          top: 17\n        },\n        onClick: function onClick() {\n          setedit(true);\n          setnewCompany(true);\n          setCategory(cat); // event.stopPropagation();\n        }\n      }, __jsx(\"img\", {\n        width: \"20\",\n        src: \"https://image.flaticon.com/icons/png/512/84/84380.png\"\n      })), __jsx(\"div\", {\n        \"class\": \"card-body\"\n      }, __jsx(\"div\", {\n        \"class\": \"btn btn-icon \",\n        style: {\n          \"float\": \"left\",\n          zIndex: 99999999,\n          opacity: 0\n        }\n      }, __jsx(\"img\", {\n        width: \"20\",\n        src: \"https://image.flaticon.com/icons/png/512/84/84380.png\"\n      })), __jsx(\"div\", {\n        \"class\": \"row\"\n      }, __jsx(\"div\", {\n        \"class\": \"col-auto\"\n      }, __jsx(\"div\", {\n        \"class\": \"icon icon-shape bg-gradient-red text-white rounded-circle shadow\"\n      }, __jsx(\"i\", {\n        \"class\": \"ni ni-active-40\"\n      }))), __jsx(\"div\", {\n        \"class\": \"col\"\n      }, __jsx(\"span\", {\n        \"class\": \"h2 font-weight-bold mb-0\"\n      }, cat.name), __jsx(\"h5\", {\n        \"class\": \"card-title text-uppercase text-muted mb-0\"\n      }))))));\n    }), \" \");\n  }\n\n  return __jsx(\"body\", {\n    className: \"rtl g-sidenav-show g-sidenav-pinned\",\n    dir: \"rtl\"\n  }, __jsx(\"div\", null, toggler ? __jsx(Admin_nav, null) : \"\", __jsx(\"div\", {\n    className: \"main-content\",\n    id: \"panel\"\n  }, __jsx(HeaderNav, null), __jsx(\"div\", {\n    className: \"container-fluid mt--6\"\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\"\n  }, __jsx(\"div\", {\n    className: \" col \"\n  }, __jsx(\"div\", {\n    className: \"card\"\n  }, __jsx(\"div\", {\n    className: \"card-header bg-transparent\"\n  }, __jsx(\"h3\", {\n    className: \"mb-0\"\n  }, \"\\u0627\\u0644\\u0625\\u062D\\u062A\\u064A\\u0627\\u062C\\u0627\\u062A\"), newCompany == false ? __jsx(\"div\", {\n    style: {\n      \"float\": \"left\"\n    }\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      setnewCompany(true); // setChoose(\"branches\");\n    },\n    \"class\": \"btn btn-icon btn-danger\",\n    type: \"button\"\n  }, __jsx(\"span\", {\n    \"class\": \"btn-inner--icon\"\n  }, \"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0625\\u062D\\u062A\\u064A\\u0627\\u062C \\u062C\\u062F\\u064A\\u062F\"))) : \"\"), newCompany == false ? __jsx(\"div\", {\n    className: \"card-body\"\n  }, results ? results == \"No_data\" ? __jsx(\"h2\", null, \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\") : displayCards(results) : \"\", showSkeleton ? __jsx(Skeleton, {\n    height: 40,\n    count: 10\n  }) : \"\") : __jsx(\"div\", {\n    className: \"card-body\"\n  }, edit == false ? __jsx(NewCategoryForm, {\n    changenewCompany: changenewCompany,\n    GoBackAndTriggerMutation: GoBackAndTriggerMutation\n  }) : __jsx(EditCategoryForm, {\n    changenewCompany: changenewCompany,\n    GoBackAndTriggerMutation: GoBackAndTriggerMutation,\n    category: Category\n  }))))), __jsx(Footer, null)))));\n}\n\nexport default ProtectRoute(Needs);","map":null,"metadata":{},"sourceType":"module"}