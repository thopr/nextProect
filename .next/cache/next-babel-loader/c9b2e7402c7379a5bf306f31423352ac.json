{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport Admin_nav from \"../components/Admin_nav\";\nimport HeaderNav from \"../components/HeaderNav\";\nimport Footer from \"../components/Footer\";\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { getSponsors } from \"../services/api_get\";\n\nfunction Sponsor() {\n  var _useAuth = useAuth(),\n      user = _useAuth.user,\n      isAuthenticated = _useAuth.isAuthenticated,\n      loading = _useAuth.loading,\n      toggler = _useAuth.toggler;\n\n  var _useState = useState(\"all\"),\n      getType = _useState[0],\n      setgetType = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      Sphone = _useState2[0],\n      setSphone = _useState2[1];\n\n  var _useState3 = useState(1),\n      step = _useState3[0],\n      setStep = _useState3[1];\n\n  var _useState4 = useState(true),\n      firstTime = _useState4[0],\n      setfirstTime = _useState4[1];\n\n  var _useState5 = useState([]),\n      sponsors = _useState5[0],\n      setsponsors = _useState5[1];\n\n  var _getSponsors = getSponsors(Sphone, getType),\n      data = _getSponsors.data,\n      isLoading = _getSponsors.isLoading,\n      isError = _getSponsors.isError;\n\n  var results = isLoading ? false : data.data;\n  console.log(results);\n  var showSkeleton = isLoading || loading;\n\n  if (firstTime && results) {\n    setsponsors(results);\n    setfirstTime(false);\n  }\n\n  function getSponsor(phone) {\n    setSphone(phone);\n    setgetType(\"sponsor\");\n    setStep(2);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"body\", {\n    className: \"rtl g-sidenav-show g-sidenav-pinned\",\n    dir: \"rtl\"\n  }, __jsx(\"div\", null, toggler ? __jsx(Admin_nav, null) : \"\", __jsx(\"div\", {\n    className: \"main-content\",\n    id: \"panel\"\n  }, __jsx(HeaderNav, null), __jsx(\"div\", {\n    className: \"container-fluid mt--6\"\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\"\n  }, __jsx(\"div\", {\n    className: \" col \"\n  }, __jsx(\"div\", {\n    className: \"card\"\n  }, __jsx(\"div\", {\n    className: \"card-header bg-transparent\"\n  }, __jsx(\"h3\", {\n    className: \"mb-0\"\n  }, \"\\u0627\\u0644\\u062F\\u0627\\u0639\\u0645\\u064A\\u0646\")), results ? __jsx(\"div\", {\n    className: \"card-body\"\n  }, step == 1 ? __jsx(\"table\", {\n    className: \"table align-items-center table-flush\"\n  }, __jsx(\"thead\", {\n    className: \"thead-light\"\n  }, __jsx(\"tr\", null, __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"name\"\n  }, \"\\u0627\\u0644\\u0625\\u0633\\u0645\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"status\"\n  }, \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062C\\u0648\\u0627\\u0644\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"completion\"\n  }, \"\\u0645\\u062C\\u0645\\u0648\\u0639 \\u0627\\u0644\\u062A\\u0628\\u0631\\u0639\\u0627\\u062A\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"completion\"\n  }, \"\\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\"))), __jsx(\"tbody\", {\n    className: \"list\"\n  }, sponsors.map(function (coubon, index) {\n    return __jsx(React.Fragment, null, __jsx(\"tr\", null, __jsx(\"td\", null, __jsx(\"h3\", {\n      style: {\n        TextAlign: \"center\"\n      }\n    }, coubon.name)), __jsx(\"td\", null, __jsx(\"h3\", {\n      style: {\n        TextAlign: \"center\"\n      }\n    }, coubon.phone)), __jsx(\"td\", null, __jsx(\"h3\", {\n      style: {\n        TextAlign: \"center\",\n        color: \"green\"\n      }\n    }, coubon.totaldonation)), __jsx(\"td\", null, __jsx(\"button\", {\n      type: \"button\",\n      \"class\": \"btn\",\n      onClick: function onClick() {\n        getSponsor(coubon.phone);\n      }\n    }, \"\\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\"))));\n  }))) : step == 2 ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    style: {\n      \"float\": \"right\",\n      marginBottom: \"10px\"\n    }\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      setStep(1);\n    },\n    \"class\": \"btn btn-icon btn-primary\",\n    type: \"button\"\n  }, __jsx(\"span\", {\n    \"class\": \"btn-inner--icon\"\n  }, __jsx(\"i\", {\n    \"class\": \"fa fa-arrow-right\",\n    \"aria-hidden\": \"true\"\n  }))), __jsx(\"h2\", {\n    style: {\n      marginRight: \"0.8em\",\n      display: \"inline\"\n    }\n  }, \"\\u0627\\u0644\\u0639\\u0648\\u062F\\u0629 \\u0627\\u0644\\u0649 \\u0627\\u0644\\u062E\\u0644\\u0641\"), __jsx(\"div\", {\n    style: {\n      clear: \"both\"\n    }\n  })), __jsx(\"table\", {\n    className: \"table align-items-center table-flush\"\n  }, __jsx(\"thead\", {\n    className: \"thead-light\"\n  }, __jsx(\"tr\", null, __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"name\"\n  }, \"\\u0627\\u0644\\u0625\\u0633\\u0645\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"status\"\n  }, \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062C\\u0648\\u0627\\u0644\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"completion\"\n  }, \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u0648\\u0628\\u0648\\u0646\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"completion\"\n  }, \"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u0643\\u0648\\u0628\\u0648\\u0646\\u0627\\u062A\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"completion\"\n  }, \"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0628\\u0631\\u0639\"))), __jsx(\"tbody\", {\n    className: \"list\"\n  }, results.map(function (coubon, index) {\n    return __jsx(React.Fragment, null, __jsx(\"tr\", null, __jsx(\"td\", null, __jsx(\"h3\", {\n      style: {\n        TextAlign: \"center\"\n      }\n    }, coubon.name)), __jsx(\"td\", null, __jsx(\"h3\", {\n      style: {\n        TextAlign: \"center\"\n      }\n    }, coubon.phone)), __jsx(\"td\", null, __jsx(\"h3\", {\n      style: {\n        TextAlign: \"center\"\n      }\n    }, coubon.coubonName)), __jsx(\"td\", null, __jsx(\"h3\", {\n      style: {\n        TextAlign: \"center\"\n      }\n    }, coubon.coubonValue)), __jsx(\"td\", null, __jsx(\"h3\", {\n      style: {\n        TextAlign: \"center\",\n        color: \"green\"\n      }\n    }, coubon.value))));\n  })))) : \"\", showSkeleton ? __jsx(Skeleton, {\n    height: 10,\n    count: 2\n  }) : \"\") : \"\"))), __jsx(Footer, null))))));\n}\n\nexport default ProtectRoute(Sponsor);","map":null,"metadata":{},"sourceType":"module"}