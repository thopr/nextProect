{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Admin_nav from \"./Admin_nav\";\nimport HeaderNav from \"./HeaderNav\";\nimport Footer from \"./Footer\";\nimport NewCoubonForm from \"./NewCoubonForm\";\nimport AddCoubonsForm from \"./AddCoubonsForm\";\nimport api from \"../services/Api\";\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\nimport { GetCouponsBybranch } from \"../services/api_get\";\nimport { useRouter } from \"next/router\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { useAlert } from \"react-alert\";\nimport { mutate } from \"swr\";\n\nvar BranchCoubonTable = function BranchCoubonTable(_ref) {\n  var branch_id = _ref.branch_id,\n      BracnhCode = _ref.BracnhCode,\n      companyName = _ref.companyName,\n      Branchname = _ref.Branchname,\n      setChoose = _ref.setChoose,\n      listOfBranches = _ref.listOfBranches;\n  var router = useRouter();\n  var alert = useAlert();\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user,\n      isAuthenticated = _useAuth.isAuthenticated,\n      loading = _useAuth.loading;\n\n  useEffect(function () {\n    localStorage.Currentcategory = \"\";\n    if (!isAuthenticated && !loading) Router.push(\"/login\");\n  }, [loading, isAuthenticated]);\n  console.log(\"heeere\");\n  console.log(companyName);\n  console.log(listOfBranches);\n  console.log(\"company branches\");\n\n  var _useState = useState(0),\n      theSection_id = _useState[0],\n      settheSection_id = _useState[1];\n\n  function sleep(ms) {\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, ms);\n    });\n  }\n\n  var _useState2 = useState(\"t\"),\n      uppage = _useState2[0],\n      setuppage = _useState2[1];\n\n  var _GetCouponsBybranch = GetCouponsBybranch(branch_id, uppage),\n      data = _GetCouponsBybranch.data,\n      isLoading = _GetCouponsBybranch.isLoading,\n      isError = _GetCouponsBybranch.isError;\n\n  var results = isLoading ? false : data.data;\n  console.log(results);\n  var showSkeleton = isLoading || loading;\n\n  var _useState3 = useState(false),\n      newCompany = _useState3[0],\n      setnewCompany = _useState3[1];\n\n  var _useState4 = useState(false),\n      Section_id = _useState4[0],\n      setSection_id = _useState4[1];\n\n  var _useState5 = useState(false),\n      value = _useState5[0],\n      setvalue = _useState5[1];\n\n  var _useState6 = useState(false),\n      coubonName = _useState6[0],\n      setcoubonName = _useState6[1];\n\n  var _useState7 = useState(false),\n      coubonType = _useState7[0],\n      setcoubonType = _useState7[1];\n\n  var _useState8 = useState(false),\n      ModelState = _useState8[0],\n      setModelState = _useState8[1];\n\n  var _useState9 = useState([]),\n      finalBranches = _useState9[0],\n      setfinalBranches = _useState9[1]; //const [theCouponBranches, settheCouponBranches] = useState([]);\n\n\n  var _useState10 = useState(false),\n      edit = _useState10[0],\n      setedit = _useState10[1];\n\n  var _useState11 = useState([]),\n      Company = _useState11[0],\n      setCompany = _useState11[1];\n\n  function GoBackAndTriggerMutation() {\n    //mutate(\"rabwa/GetCouponsBybranch?branch_id=\" + branch_id);\n    setuppage(uppage + \"q\");\n    setedit(false);\n    setnewCompany(false); //setnewCompany(false);\n  }\n\n  function changenewCompany() {\n    setedit(false);\n    setnewCompany(false);\n  }\n\n  function changeBranches(value, id) {\n    var favorite = finalBranches;\n    console.log(favorite);\n    var f = [];\n\n    for (var index = 0; index < favorite.length; index++) {\n      var ss = favorite[index].status;\n\n      if (favorite[index].id == id) {\n        ss = value;\n      }\n\n      var tempbranch = {\n        id: favorite[index].id,\n        branch_name: favorite[index].branch_name,\n        status: ss,\n        Section_id: favorite[index].Section_id\n      };\n      f.push(tempbranch);\n    }\n\n    setfinalBranches(f);\n  }\n\n  function SaveBranches(data) {\n    console.log(\"-----------------------------\");\n    console.log(data);\n    console.log(\"-----------------------------\");\n    var dd = {\n      data: data\n    };\n    api.post(\"rabwa/ChangeCoubonBranches\", dd).then(function (res) {\n      console.log(res.data);\n      alert.show(\"تم بنجاح\", {\n        timeout: 2000,\n        type: \"success\"\n      });\n      GoBackAndTriggerMutation();\n    });\n  }\n\n  function openModal(_x) {\n    return _openModal.apply(this, arguments);\n  }\n\n  function _openModal() {\n    _openModal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ModalData) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return api.get(\"rabwa/GetCouponBranches?Section_id=\" + ModalData).then(function (res) {\n                var theCouponBranches = res.data;\n                var favorite = [];\n\n                for (var index = 0; index < listOfBranches.length; index++) {\n                  var element = listOfBranches[index];\n                  var ss = false;\n\n                  for (var index2 = 0; index2 < theCouponBranches.length; index2++) {\n                    var element2 = theCouponBranches[index2];\n\n                    if (element2.Branch_id == element.id) {\n                      ss = true;\n                    }\n                  }\n\n                  var tempbranch = {\n                    id: element.id,\n                    branch_name: element.branch_name,\n                    status: ss,\n                    Section_id: ModalData\n                  };\n                  favorite.push(tempbranch);\n                }\n\n                console.log(\"thetest\");\n                console.log(favorite);\n                console.log(\"thetest\");\n                setfinalBranches(favorite);\n                setModelState(true);\n                console.log(theCouponBranches);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _openModal.apply(this, arguments);\n  }\n\n  return __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"row justify-content-center\"\n  }, __jsx(\"div\", {\n    className: \" col \"\n  }, __jsx(\"div\", {\n    className: \"card\"\n  }, __jsx(\"div\", {\n    className: \"card-header bg-transparent\"\n  }, __jsx(\"h2\", null, \" \", companyName + Branchname), newCompany == false ? __jsx(\"div\", {\n    style: {\n      \"float\": \"right\"\n    }\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      setChoose(\"branches\");\n    },\n    \"class\": \"btn btn-icon btn-primary\",\n    type: \"button\"\n  }, __jsx(\"span\", {\n    \"class\": \"btn-inner--icon\"\n  }, __jsx(\"i\", {\n    \"class\": \"fa fa-arrow-right\",\n    \"aria-hidden\": \"true\"\n  }))), __jsx(\"h2\", {\n    style: {\n      marginRight: \"0.8em\",\n      display: \"inline\"\n    }\n  }, \"\\u0627\\u0644\\u0643\\u0648\\u0628\\u0648\\u0646\\u0627\\u062A :\"), __jsx(\"div\", {\n    style: {\n      clear: \"both\"\n    }\n  })) : \"\"), newCompany == false ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"card-body\"\n  }, __jsx(\"div\", {\n    style: {\n      \"float\": \"left\"\n    }\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      setnewCompany(true); // setChoose(\"branches\");\n    },\n    \"class\": \"btn btn-icon btn-danger\",\n    type: \"button\"\n  }, __jsx(\"span\", {\n    \"class\": \"btn-inner--icon\"\n  }, \"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0643\\u0648\\u0628\\u0648\\u0646 \\u062C\\u062F\\u064A\\u062F\"))), results ? results == \"No_data\" ? __jsx(\"div\", {\n    style: {\n      \"float\": \"right\"\n    }\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      setChoose(\"branches\");\n    },\n    \"class\": \"btn btn-icon btn-primary\",\n    type: \"button\"\n  }, __jsx(\"span\", {\n    \"class\": \"btn-inner--icon\"\n  }, __jsx(\"i\", {\n    \"class\": \"fa fa-arrow-right\",\n    \"aria-hidden\": \"true\"\n  }))), __jsx(\"h2\", {\n    style: {\n      marginRight: \"0.8em\",\n      display: \"inline\"\n    }\n  }, \"\\u0627\\u0644\\u0643\\u0648\\u0628\\u0648\\u0646\\u0627\\u062A :\"), __jsx(\"div\", {\n    style: {\n      clear: \"both\"\n    }\n  }), __jsx(\"h2\", {\n    style: {\n      marginTop: \"0.8em\"\n    }\n  }, \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\")) : __jsx(\"table\", {\n    className: \"table align-items-center table-flush\"\n  }, __jsx(\"thead\", {\n    className: \"thead-light\"\n  }, __jsx(\"tr\", null, __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"name\"\n  }, \"\\u0627\\u0644\\u0625\\u0633\\u0645\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"status\"\n  }, \"\\u0627\\u0644\\u0646\\u0648\\u0639\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"completion\"\n  }, \"\\u0627\\u0644\\u0642\\u064A\\u0645\\u0629\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"completion\"\n  }, \"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629\"), __jsx(\"th\", {\n    scope: \"col\",\n    \"data-sort\": \"completion\"\n  }, \"\\u0627\\u0644\\u0635\\u0644\\u0627\\u062D\\u064A\\u0629\"), __jsx(\"th\", {\n    scope: \"col\"\n  }), __jsx(\"th\", {\n    scope: \"col\"\n  }))), __jsx(\"tbody\", {\n    className: \"list\"\n  }, results.map(function (coubon, index) {\n    if (coubon.category == localStorage.Currentcategory) {\n      return __jsx(React.Fragment, null, coubon.type == \"one_code\" ? __jsx(\"tr\", null, __jsx(\"td\", {\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"h3\", {\n        style: {\n          TextAlign: \"center\"\n        }\n      }, coubon.name)), __jsx(\"td\", {\n        colspan: \"2\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"h3\", null, \"\\u0643\\u0648\\u062F \\u0645\\u0646\\u0635\\u0627\\u062A (\\u0625\\u0633\\u062A\\u062E\\u062F\\u0627\\u0645 \\u0645\\u0631\\u0629 \\u0648\\u0627\\u062D\\u062F\\u0629)\")), __jsx(\"td\", {\n        className: \"name\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.amount - 1)), __jsx(\"td\", {\n        className: \"name\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.end, \" \\u0634\\u0647\\u0631\")), __jsx(\"td\", {\n        colspan: \"2\",\n        className: \"name\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"button\", {\n        type: \"button\",\n        \"class\": \"btn btn-default\",\n        onClick: function onClick() {\n          console.log(\"add new\");\n          setSection_id(coubon.Section_id);\n          setcoubonName(coubon.name);\n          setcoubonType(coubon.type);\n          setvalue(coubon.value);\n          setnewCompany(true);\n          setedit(true); //selected(coubon.name, coubon.amount);\n        }\n      }, \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0643\\u0648\\u0628\\u0648\\u0646\\u0627\\u062A\"))) : coubon.type == \"all_code\" ? __jsx(\"tr\", null, __jsx(\"td\", {\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"h3\", {\n        style: {\n          TextAlign: \"center\"\n        }\n      }, coubon.name)), __jsx(\"td\", {\n        colspan: \"2\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"h3\", null, \"\\u0643\\u0648\\u062F \\u0645\\u0646\\u0635\\u0627\\u062A \")), __jsx(\"td\", {\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"span\", null, \"\\u0644\\u0627 \\u064A\\u0646\\u062A\\u0647\\u064A \")), __jsx(\"td\", {\n        className: \"name\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.end, \" \\u0634\\u0647\\u0631\")), __jsx(\"td\", {\n        colspan: \"2\",\n        className: \"name\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      })) : __jsx(\"tr\", null, __jsx(\"td\", {\n        className: \"name\"\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.name)), __jsx(\"td\", {\n        className: \"name\"\n      }, coubon.type == \"cash\" ? __jsx(\"span\", {\n        \"class\": \"badge badge-pill badge-lg badge-secondary\"\n      }, __jsx(\"img\", {\n        className: \"avatar avatar-sm rounded-circle\",\n        src: \"/assets/img/icons/cash.jpg\",\n        height: \"40\",\n        width: \"40\"\n      })) : coubon.type == \"basket\" ? __jsx(\"span\", {\n        \"class\": \"badge badge-pill badge-lg badge-secondary\"\n      }, __jsx(\"img\", {\n        className: \"avatar avatar-sm rounded-circle\",\n        src: \"/assets/img/icons/basket.jpg\",\n        height: \"40\",\n        width: \"40\"\n      })) : coubon.type == \"discount\" ? __jsx(\"span\", {\n        \"class\": \"badge badge-pill badge-lg badge-secondary\"\n      }, __jsx(\"img\", {\n        className: \"avatar avatar-sm rounded-circle\",\n        src: \"/assets/img/icons/discount.jpg\",\n        height: \"40\",\n        width: \"40\"\n      })) : \"\"), __jsx(\"td\", {\n        className: \"name\"\n      }, coubon.type == \"cash\" ? __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.value) : coubon.type == \"basket\" ? __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.value) : coubon.type == \"discount\" ? __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.value, \"%\") : \"\"), __jsx(\"td\", {\n        className: \"name\"\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.amount - 1)), __jsx(\"td\", {\n        className: \"name\"\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.end, \" \\u0634\\u0647\\u0631\")), __jsx(\"td\", {\n        className: \"name\"\n      }, __jsx(\"button\", {\n        type: \"button\",\n        \"class\": \"btn btn-default\",\n        onClick: function onClick() {\n          console.log(\"add new\");\n          setSection_id(coubon.Section_id);\n          setcoubonName(coubon.name);\n          setcoubonType(coubon.type);\n          setvalue(coubon.value);\n          setnewCompany(true);\n          setedit(true); //selected(coubon.name, coubon.amount);\n        }\n      }, \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0643\\u0648\\u0628\\u0648\\u0646\\u0627\\u062A\")), __jsx(\"td\", {\n        className: \"name\"\n      }, __jsx(\"button\", {\n        type: \"button\",\n        \"class\": \"btn\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#modal-default\",\n        onClick: function onClick() {\n          openModal(coubon.Section_id);\n        }\n      }, \"\\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\"))));\n    } else {\n      localStorage.Currentcategory = coubon.category;\n      return __jsx(React.Fragment, null, __jsx(\"tr\", null, __jsx(\"td\", {\n        colspan: \"7\",\n        style: {\n          backgroundColor: \"#faf8f8\"\n        }\n      }, __jsx(\"h1\", {\n        style: {\n          TextAlign: \"center\"\n        }\n      }, coubon.category))), coubon.type == \"one_code\" ? __jsx(\"tr\", null, __jsx(\"td\", {\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"h3\", {\n        style: {\n          TextAlign: \"center\"\n        }\n      }, coubon.name)), __jsx(\"td\", {\n        colspan: \"2\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"h3\", null, \"\\u0643\\u0648\\u062F \\u0645\\u0646\\u0635\\u0627\\u062A (\\u0625\\u0633\\u062A\\u062E\\u062F\\u0627\\u0645 \\u0645\\u0631\\u0629 \\u0648\\u0627\\u062D\\u062F\\u0629)\")), __jsx(\"td\", {\n        className: \"name\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.amount - 1)), __jsx(\"td\", {\n        className: \"name\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.end, \" \\u0634\\u0647\\u0631\")), __jsx(\"td\", {\n        colspan: \"2\",\n        className: \"name\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"button\", {\n        type: \"button\",\n        \"class\": \"btn btn-default\",\n        onClick: function onClick() {\n          console.log(\"add new\");\n          setSection_id(coubon.Section_id);\n          setcoubonName(coubon.name);\n          setcoubonType(coubon.type);\n          setvalue(coubon.value);\n          setnewCompany(true);\n          setedit(true); //selected(coubon.name, coubon.amount);\n        }\n      }, \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0643\\u0648\\u0628\\u0648\\u0646\\u0627\\u062A\"))) : coubon.type == \"all_code\" ? __jsx(\"tr\", null, __jsx(\"td\", {\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"h3\", {\n        style: {\n          TextAlign: \"center\"\n        }\n      }, coubon.name)), __jsx(\"td\", {\n        colspan: \"2\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"h3\", null, \"\\u0643\\u0648\\u062F \\u0645\\u0646\\u0635\\u0627\\u062A \")), __jsx(\"td\", {\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"span\", null, \"\\u0644\\u0627 \\u064A\\u0646\\u062A\\u0647\\u064A \")), __jsx(\"td\", {\n        className: \"name\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.end, \" \\u0634\\u0647\\u0631\")), __jsx(\"td\", {\n        colspan: \"2\",\n        className: \"name\",\n        style: {\n          backgroundColor: \"rgb(194 224 160)\"\n        }\n      })) : __jsx(\"tr\", null, __jsx(\"td\", {\n        className: \"name\"\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.name)), __jsx(\"td\", {\n        className: \"name\"\n      }, coubon.type == \"cash\" ? __jsx(\"span\", {\n        \"class\": \"badge badge-pill badge-lg badge-secondary\"\n      }, __jsx(\"img\", {\n        className: \"avatar avatar-sm rounded-circle\",\n        src: \"/assets/img/icons/cash.jpg\",\n        height: \"40\",\n        width: \"40\"\n      })) : coubon.type == \"basket\" ? __jsx(\"span\", {\n        \"class\": \"badge badge-pill badge-lg badge-secondary\"\n      }, __jsx(\"img\", {\n        className: \"avatar avatar-sm rounded-circle\",\n        src: \"/assets/img/icons/basket.jpg\",\n        height: \"40\",\n        width: \"40\"\n      })) : coubon.type == \"discount\" ? __jsx(\"span\", {\n        \"class\": \"badge badge-pill badge-lg badge-secondary\"\n      }, __jsx(\"img\", {\n        className: \"avatar avatar-sm rounded-circle\",\n        src: \"/assets/img/icons/discount.jpg\",\n        height: \"40\",\n        width: \"40\"\n      })) : \"\"), __jsx(\"td\", {\n        className: \"name\"\n      }, coubon.type == \"cash\" ? __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.value) : coubon.type == \"basket\" ? __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.value) : coubon.type == \"discount\" ? __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.value, \"%\") : \"\"), __jsx(\"td\", {\n        className: \"name\"\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.amount - 1)), __jsx(\"td\", {\n        className: \"name\"\n      }, __jsx(\"span\", {\n        className: \"text-lg\"\n      }, coubon.end, \" \\u0634\\u0647\\u0631\")), __jsx(\"td\", {\n        className: \"name\"\n      }, __jsx(\"button\", {\n        type: \"button\",\n        \"class\": \"btn btn-default\",\n        onClick: function onClick() {\n          console.log(\"add new\");\n          setSection_id(coubon.Section_id);\n          setcoubonName(coubon.name);\n          setcoubonType(coubon.type);\n          setvalue(coubon.value);\n          setnewCompany(true);\n          setedit(true); //selected(coubon.name, coubon.amount);\n        }\n      }, \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0643\\u0648\\u0628\\u0648\\u0646\\u0627\\u062A\")), __jsx(\"td\", {\n        className: \"name\"\n      }, __jsx(\"button\", {\n        type: \"button\",\n        \"class\": \"btn\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#modal-default\",\n        onClick: function onClick() {\n          openModal(coubon.Section_id);\n        }\n      }, \"\\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\"))));\n    }\n  }))) : \"لا يوجد كوبونات\", showSkeleton ? __jsx(Skeleton, {\n    height: 40,\n    count: 10\n  }) : \"\")) : __jsx(\"div\", {\n    className: \"card-body\"\n  }, \" \", edit == false ? __jsx(NewCoubonForm, {\n    Branch_id: branch_id,\n    BracnhCode: BracnhCode,\n    GoBackAndTriggerMutation: GoBackAndTriggerMutation,\n    changenewCompany: changenewCompany\n  }) : __jsx(AddCoubonsForm, {\n    Section_id: Section_id,\n    coubonName: coubonName,\n    BracnhCode: BracnhCode,\n    value: value,\n    GoBackAndTriggerMutation: GoBackAndTriggerMutation,\n    changenewCompany: changenewCompany,\n    coubonType: coubonType\n  }))))), __jsx(\"div\", {\n    \"class\": ModelState ? \"modal fade show\" : \"modal fade \",\n    id: \"modal-default\",\n    tabindex: \"-1\",\n    role: \"dialog\",\n    \"aria-labelledby\": \"modal-default\",\n    \"aria-hidden\": ModelState ? \"false\" : \"true\",\n    style: ModelState ? {\n      display: \"block\",\n      paddingRight: \"14px\"\n    } : {\n      display: \"none\"\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"modal-dialog modal- modal-dialog-centered modal-\",\n    role: \"document\"\n  }, __jsx(\"div\", {\n    \"class\": \"modal-content\"\n  }, __jsx(\"div\", {\n    \"class\": \"modal-header\"\n  }, __jsx(\"h6\", {\n    \"class\": \"modal-title\",\n    id: \"modal-title-default\"\n  }, \"\\u0627\\u0644\\u0641\\u0631\\u0648\\u0639 \\u0627\\u0644\\u062A\\u064A \\u064A\\u0645\\u0643\\u0646 \\u0635\\u0631\\u0641 \\u0627\\u0644\\u0643\\u0648\\u0628\\u0648\\u0646\\u0627\\u062A \\u0628\\u0647\\u0627\"), __jsx(\"button\", {\n    type: \"button\",\n    \"class\": \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    onClick: function onClick() {\n      setModelState(false);\n    }\n  }, __jsx(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\"))), __jsx(\"div\", {\n    \"class\": \"modal-body\"\n  }, finalBranches.length > 0 ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"table-responsive\"\n  }, __jsx(\"div\", null, __jsx(\"table\", {\n    className: \"table align-items-center\"\n  }, __jsx(\"thead\", {\n    className: \"thead-light\"\n  }, __jsx(\"tr\", null, __jsx(\"th\", {\n    scope: \"col\",\n    className: \"sort\",\n    \"data-sort\": \"name\"\n  }, \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0641\\u0631\\u0639\"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"sort\",\n    \"data-sort\": \"budget\"\n  }))), __jsx(\"tbody\", {\n    className: \"list\"\n  }, finalBranches.map(function (listBranches, index) {\n    return __jsx(React.Fragment, null, \" \", __jsx(\"tr\", null, __jsx(\"td\", {\n      className: \"budget\",\n      style: {\n        \"float\": \"right\"\n      }\n    }, listBranches.branch_name), __jsx(\"td\", null, listBranches.status ? __jsx(\"button\", {\n      type: \"button\",\n      \"class\": \"btn btn-danger\",\n      onClick: function onClick() {\n        changeBranches(false, listBranches.id);\n      }\n    }, \"\\u0625\\u0644\\u063A\\u0627\\u0621\") : __jsx(\"button\", {\n      type: \"button\",\n      \"class\": \"btn btn-primary\",\n      onClick: function onClick() {\n        changeBranches(true, listBranches.id);\n      }\n    }, \"\\u062A\\u0641\\u0639\\u064A\\u0644\"))));\n  })))))) : \"لا يوجد بيانات\", showSkeleton ? __jsx(Skeleton, {\n    height: 40,\n    count: 10\n  }) : \"\"), __jsx(\"div\", {\n    \"class\": \"modal-footer\"\n  }, __jsx(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-link \",\n    \"data-dismiss\": \"modal\",\n    style: {\n      \"float\": \"right\"\n    },\n    onClick: function onClick() {\n      setModelState(false);\n    }\n  }, \"\\u0625\\u063A\\u0644\\u0627\\u0642\"), __jsx(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-link \",\n    \"data-dismiss\": \"modal\",\n    style: {\n      \"float\": \"left\"\n    },\n    onClick: function onClick() {\n      var test = [];\n\n      for (var index = 0; index < finalBranches.length; index++) {\n        var element = finalBranches[index];\n\n        if (element.status == true) {\n          test.push(element);\n        }\n      }\n\n      if (test.length > 0) {\n        SaveBranches(finalBranches);\n        setModelState(false);\n      } else {\n        alert.show(\"يجب تفعيل فرع واحد على الأقل\", {\n          timeout: 2000,\n          type: \"danger\"\n        });\n      }\n    }\n  }, \"\\u062D\\u0641\\u0638\"))))));\n};\n\nexport default BranchCoubonTable;","map":null,"metadata":{},"sourceType":"module"}