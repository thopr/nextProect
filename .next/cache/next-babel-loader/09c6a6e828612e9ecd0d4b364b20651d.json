{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from \"react\"; //\n\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\nimport { useRouter } from \"next/router\";\nimport { useForm } from \"react-hook-form\";\nimport Admin_nav from \"../components/Admin_nav\";\nimport HeaderNav from \"../components/HeaderNav\";\nimport Footer from \"../components/Footer\";\nimport EditableImage from \"../Components/editable-image/EditableImage\";\nimport ButtonUploadImage from \"../Components/button-upload/ButtonUpload\";\nimport api from \"../services/Api\";\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\n\nfunction NewCompany() {\n  var token = Cookies.get(\"token\");\n  var siteUrl = Cookies.get(\"siteUrl\");\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      toggler = _useAuth.toggler,\n      settoggler = _useAuth.settoggler,\n      loading = _useAuth.loading;\n\n  var _useState = useState(false),\n      spinner = _useState[0],\n      setspinner = _useState[1];\n\n  var _useState2 = useState(),\n      ProductImage = _useState2[0],\n      setProductImage = _useState2[1];\n\n  function handleThumbnailProduct(file) {\n    var imageObj = {\n      id: file.name,\n      name: file.name,\n      isUloading: true,\n      imageObject: file\n    };\n    console.log(imageObj);\n    setProductImage(imageObj);\n    var formData = new FormData();\n    formData.append(\"file\", file);\n    axios.post(siteUrl + \"wp/v2/media\", formData, {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function (result) {\n      console.log(result.data.source_url);\n    });\n    /* api.post(\"wp/v2/media\", { formData }).then((res) => {\r\n      console.log(res.source_url);\r\n    });*/\n\n    /* API.WP_uploadImage(token, formData)\r\n          .then((data) => {\r\n            setProductImage(data.source_url);\r\n            setIsThumbnailUploade(true);\r\n            console.log(data.source_url);\r\n            setconfImage(data.source_url);\r\n          })\r\n          .catch((error) => {});*/\n  }\n\n  var _useForm = useForm({//mode: \"onChange\",\n  }),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors;\n\n  return __jsx(\"body\", {\n    className: \"rtl g-sidenav-show g-sidenav-pinned\",\n    dir: \"rtl\"\n  }, __jsx(\"div\", null, toggler ? __jsx(Admin_nav, null) : \"\", __jsx(\"div\", {\n    className: \"main-content\",\n    id: \"panel\"\n  }, __jsx(HeaderNav, null), __jsx(\"div\", {\n    className: \"container-fluid mt--6\"\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\"\n  }, __jsx(\"div\", {\n    className: \" col \"\n  }, __jsx(\"div\", {\n    className: \"card\"\n  }, __jsx(\"div\", {\n    className: \"card-header bg-transparent\"\n  }, __jsx(\"h3\", {\n    className: \"mb-0\"\n  }, \"Form example\")), __jsx(\"div\", {\n    className: \"card-body\"\n  }, __jsx(\"h6\", {\n    className: \"heading-small text-muted mb-4\"\n  }, \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"), __jsx(\"div\", {\n    className: \"pl-lg-4\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-lg-6\"\n  }, __jsx(\"div\", {\n    style: {\n      width: \"140px\",\n      margin: \"2em auto\"\n    }\n  }, ProductImage ? __jsx(EditableImage, {\n    imageObject: ProductImage,\n    removeImageFunc: function removeImageFunc() {\n      return setProductImage(false);\n    }\n  }) : __jsx(ButtonUploadImage, {\n    typeImage: \"thumbnail\",\n    onChange: function onChange(thumbnail) {\n      return handleThumbnailProduct(thumbnail.target.files[0]);\n    }\n  }))))))))), __jsx(Footer, null)))));\n}\n\nexport default ProtectRoute(NewCompany);","map":null,"metadata":{},"sourceType":"module"}