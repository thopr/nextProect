{"ast":null,"code":"var __jsx = React.createElement;\nimport Admin_nav from \"../components/Admin_nav\";\nimport React, { useState, useEffect } from \"react\";\nimport HeaderNav from \"../components/HeaderNav\";\nimport api from \"../services/Api\";\nimport Footer from \"../components/Footer\";\nimport NeedyCheckApproveMandobe from \"../components/NeedyCheckApproveMandobe\";\nimport { GetApproveMandobes } from \"../services/api_get\";\nimport Skeleton from \"react-loading-skeleton\";\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\nimport { useAlert } from \"react-alert\";\nimport { mutate } from \"swr\";\n\nfunction GiveNeedyCoubon() {\n  //const [project,setProject] = useState(false);\n  var alert = useAlert();\n\n  var _useState = useState(0),\n      name = _useState[0],\n      setname = _useState[1];\n\n  var _useState2 = useState(0),\n      members = _useState2[0],\n      setmembers = _useState2[1];\n\n  var _useState3 = useState(0),\n      last_coubon = _useState3[0],\n      setlast_coubon = _useState3[1];\n\n  var _useState4 = useState(0),\n      total_coubons = _useState4[0],\n      settotal_coubons = _useState4[1];\n\n  var _useState5 = useState(0),\n      piority = _useState5[0],\n      setpiority = _useState5[1];\n\n  var _useState6 = useState(1),\n      page = _useState6[0],\n      setpage = _useState6[1];\n\n  var _useState7 = useState(\"جدة\"),\n      Scity = _useState7[0],\n      setScity = _useState7[1];\n\n  var _useState8 = useState(\"all\"),\n      Saera = _useState8[0],\n      setSaera = _useState8[1];\n\n  var _useState9 = useState(8),\n      Scat = _useState9[0],\n      setScat = _useState9[1];\n\n  var _useState10 = useState(false),\n      spinner = _useState10[0],\n      setspinner = _useState10[1];\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user,\n      isAuthenticated = _useAuth.isAuthenticated,\n      loading = _useAuth.loading;\n\n  var _useState11 = useState(0),\n      MUuserID = _useState11[0],\n      setMUuserID = _useState11[1];\n\n  var _GetApproveMandobes = GetApproveMandobes(),\n      data = _GetApproveMandobes.data,\n      isLoading = _GetApproveMandobes.isLoading,\n      isError = _GetApproveMandobes.isError;\n\n  var results = isLoading ? false : data.data;\n  console.log(results);\n  var users = isLoading ? false : results.users;\n  var showSkeleton = isLoading || loading;\n\n  var _useState12 = useState(0),\n      coubonTotal = _useState12[0],\n      setcoubonTotal = _useState12[1];\n\n  var _useState13 = useState([]),\n      CCAs = _useState13[0],\n      setCCAs = _useState13[1];\n\n  var _useState14 = useState([]),\n      categories = _useState14[0],\n      setcategories = _useState14[1];\n\n  var _useState15 = useState(true),\n      firstTime = _useState15[0],\n      setfirstTime = _useState15[1];\n\n  var _useState16 = useState(true),\n      newState = _useState16[0],\n      setnewState = _useState16[1];\n\n  var _useState17 = useState([]),\n      statAll = _useState17[0],\n      setstatAll = _useState17[1];\n\n  var _useState18 = useState([]),\n      list = _useState18[0],\n      updateList = _useState18[1];\n\n  var _useState19 = useState(false),\n      allowed = _useState19[0],\n      setallowed = _useState19[1];\n  /*\r\n    const { data, isLoading, isError } = GetCCAs();\r\n      const results = isLoading ? false : data.data;\r\n    */\n\n\n  var _useState20 = useState(false),\n      project = _useState20[0],\n      setProject = _useState20[1];\n\n  var _useState21 = useState(\"category\"),\n      choose = _useState21[0],\n      setChoose = _useState21[1];\n\n  var _useState22 = useState(\"\"),\n      category = _useState22[0],\n      setCategory = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      company = _useState23[0],\n      setCompany = _useState23[1];\n\n  var _useState24 = useState(\"\"),\n      branch = _useState24[0],\n      setBranch = _useState24[1];\n\n  var _useState25 = useState(false),\n      pool = _useState25[0],\n      setpool = _useState25[1];\n\n  var _useState26 = useState(\"\"),\n      coubonName = _useState26[0],\n      setcoubonName = _useState26[1];\n\n  var _useState27 = useState(0),\n      pool_total = _useState27[0],\n      setpool_total = _useState27[1];\n\n  var _useState28 = useState(0),\n      oldWoman = _useState28[0],\n      setOldWoman = _useState28[1];\n\n  var _useState29 = useState(0),\n      oldMan = _useState29[0],\n      setOldMan = _useState29[1];\n\n  var _useState30 = useState(0),\n      accibilityPerson = _useState30[0],\n      setAccibilityPerson = _useState30[1];\n\n  var _useState31 = useState(0),\n      baby = _useState31[0],\n      setBaby = _useState31[1];\n\n  var _useState32 = useState(0),\n      orphanGirls = _useState32[0],\n      setOrphanGirls = _useState32[1];\n\n  var _useState33 = useState(0),\n      orphanBoys = _useState33[0],\n      setOrphanBoys = _useState33[1];\n\n  var _useState34 = useState(0),\n      girls = _useState34[0],\n      setGirls = _useState34[1];\n\n  var _useState35 = useState(0),\n      guys = _useState35[0],\n      setGuys = _useState35[1];\n\n  var _useState36 = useState(0),\n      women = _useState36[0],\n      setWomen = _useState36[1];\n\n  var _useState37 = useState(0),\n      men = _useState37[0],\n      setMen = _useState37[1];\n\n  var _useState38 = useState(1),\n      step = _useState38[0],\n      setStep = _useState38[1];\n\n  function approve(UUdata) {\n    var approve = 1;\n    var theUserid = UUdata.id;\n    var mydd = {\n      approve: approve,\n      theUserid: theUserid\n    };\n    console.log(mydd);\n    api.post(\"rabwa/ApproveMandobe\", mydd).then(function (res) {\n      mutate(\"rabwa/GetApproveMandobes\");\n      alert.show(\"تم بنجاح\", {\n        timeout: 2000,\n        type: \"success\"\n      });\n      setspinner(false);\n    });\n  }\n\n  function reject(UUdata) {\n    var approve = 2;\n    var theUserid = UUdata.user_id;\n    var mydd = {\n      approve: approve,\n      theUserid: theUserid\n    };\n    console.log(mydd);\n    api.post(\"rabwa/ApproveMandobe\", mydd).then(function (res) {\n      mutate(\"rabwa/GetApproveMandobes\");\n      alert.show(\"تم بنجاح\", {\n        timeout: 2000,\n        type: \"success\"\n      });\n      setspinner(false);\n    });\n  }\n\n  var step2 = step;\n  return __jsx(React.Fragment, null, __jsx(\"body\", {\n    className: \"rtl g-sidenav-show g-sidenav-pinned\",\n    dir: \"rtl\"\n  }, __jsx(\"div\", null, __jsx(Admin_nav, null), __jsx(\"div\", {\n    \"class\": \"main-content\",\n    id: \"panel\"\n  }, __jsx(HeaderNav, null), __jsx(\"div\", {\n    \"class\": \"container-fluid mt--6\"\n  }, __jsx(\"div\", {\n    \"class\": \"row justify-content-center\"\n  }, __jsx(\"div\", {\n    \"class\": \" col \"\n  }, __jsx(\"div\", {\n    \"class\": \"card\"\n  }, __jsx(\"div\", {\n    \"class\": \"card-header bg-transparent\"\n  }, __jsx(\"h3\", {\n    \"class\": \"mb-0\"\n  }, \"\\u0627\\u0644\\u0645\\u0648\\u0627\\u0641\\u0642\\u0629 \\u0639\\u0644\\u0649 \\u0627\\u0644\\u0645\\u0646\\u062F\\u0648\\u0628\\u064A\\u0646\")), __jsx(\"div\", {\n    \"class\": \"card-body\"\n  }, __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"table-responsive\"\n  }, __jsx(\"div\", null, __jsx(\"table\", {\n    className: \"table align-items-center\",\n    style: {\n      display: step == 1 ? \"\" : \"none\"\n    }\n  }, __jsx(\"thead\", {\n    className: \"thead-light\"\n  }, __jsx(\"tr\", null, __jsx(\"th\", {\n    scope: \"col\",\n    className: \"sort\",\n    \"data-sort\": \"name\"\n  }, \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0633\\u062A\\u0641\\u064A\\u062F\", \" \"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"sort\",\n    \"data-sort\": \"name\"\n  }, \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062C\\u0648\\u0627\\u0644\", \" \"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"sort\",\n    \"data-sort\": \"name\"\n  }, \"\\u0627\\u0644\\u0625\\u064A\\u0645\\u064A\\u0644\", \" \"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"sort\",\n    \"data-sort\": \"name\"\n  }, \"\\u0627\\u0644\\u0645\\u0648\\u0627\\u0641\\u0642\\u0629\"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"sort\",\n    \"data-sort\": \"budget\"\n  }, \"\\u0627\\u0644\\u0631\\u0641\\u0636\"))), __jsx(\"tbody\", {\n    className: \"list\"\n  }, users.length > 0 ? users.map(function (data, i) {\n    return __jsx(NeedyCheckApproveMandobe, {\n      data: data,\n      approve: approve,\n      reject: reject\n    });\n  }) : \"\")), showSkeleton ? __jsx(Skeleton, {\n    height: 40,\n    count: 10\n  }) : \"\"))), __jsx(\"div\", null), __jsx(\"div\", null, __jsx(\"hr\", null)))))), __jsx(Footer, null))))));\n}\n\nexport default ProtectRoute(GiveNeedyCoubon);","map":null,"metadata":{},"sourceType":"module"}