{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\next\\\\pages\\\\Needs.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Admin_nav from \"../components/Admin_nav\";\nimport HeaderNav from \"../components/HeaderNav\";\nimport Footer from \"../components/Footer\";\nimport NewCategoryForm from \"../components/NewCategoryForm\";\nimport EditCategoryForm from \"../components/EditCategoryForm\";\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\nimport { GetCategories } from \"../services/api_get\";\nimport { mutate } from \"swr\";\nimport { useRouter } from \"next/router\";\nimport Skeleton from \"react-loading-skeleton\";\n\nfunction Needs() {\n  _s();\n\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      toggler = _useAuth.toggler,\n      settoggler = _useAuth.settoggler,\n      loading = _useAuth.loading;\n\n  var _GetCategories = GetCategories(),\n      data = _GetCategories.data,\n      isLoading = _GetCategories.isLoading,\n      isError = _GetCategories.isError;\n\n  var results = isLoading ? false : data.data;\n  var showSkeleton = isLoading || loading;\n\n  var _useState = useState(false),\n      newCompany = _useState[0],\n      setnewCompany = _useState[1];\n\n  var _useState2 = useState(false),\n      edit = _useState2[0],\n      setedit = _useState2[1];\n\n  var _useState3 = useState([]),\n      Category = _useState3[0],\n      setCategory = _useState3[1];\n  /*function prefetch(name) {\r\n    mutate(\r\n      \"api/getCompany?name=\" + name,\r\n      api.get(\"api/getCompany?name=\" + name).then((res) => console.log(res))\r\n    );\r\n    // the second parameter is a Promise\r\n    // SWR will use the result when it resolves\r\n  }*/\n\n\n  function GoBackAndTriggerMutation() {\n    mutate(\"api/GetCategories\");\n    setedit(false);\n    setnewCompany(false); //setnewCompany(false);\n  }\n\n  function changenewCompany() {\n    setedit(false);\n    setnewCompany(false);\n  }\n\n  console.log(newCompany);\n  console.log(results);\n\n  function displayCards(results) {\n    var _this = this;\n\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      style: {\n        \"float\": \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, __jsx(\"h2\", {\n      style: {\n        marginRight: \"0.8em\",\n        display: \"inline\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }, \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0625\\u062D\\u062A\\u064A\\u0627\\u062C\\u0627\\u062A :\"), __jsx(\"div\", {\n      style: {\n        clear: \"both\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    })), __jsx(\"div\", {\n      \"class\": \"col-xl-12 col-md-12\",\n      style: {\n        height: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), results.map(function (cat, index) {\n      return __jsx(\"div\", {\n        \"class\": \"col-xl-3 col-md-6\" //onMouseEnter={() => prefetch(comp.name)}\n        ,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"card card-stats\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"btn btn-icon \",\n        style: {\n          \"float\": \"left\",\n          zIndex: 9999999999,\n          position: \"absolute\",\n          left: 0,\n          top: 17\n        },\n        onClick: function onClick() {\n          setedit(true);\n          setnewCompany(true);\n          setCategory(cat); // event.stopPropagation();\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, __jsx(\"img\", {\n        width: \"20\",\n        src: \"https://image.flaticon.com/icons/png/512/84/84380.png\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }\n      })), __jsx(\"div\", {\n        \"class\": \"card-body\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"btn btn-icon \",\n        style: {\n          \"float\": \"left\",\n          zIndex: 99999999,\n          opacity: 0\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 19\n        }\n      }, __jsx(\"img\", {\n        width: \"20\",\n        src: \"https://image.flaticon.com/icons/png/512/84/84380.png\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }\n      })), __jsx(\"div\", {\n        \"class\": \"row\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 19\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"col-auto\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"icon icon-shape bg-gradient-red text-white rounded-circle shadow\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 23\n        }\n      }, __jsx(\"i\", {\n        \"class\": \"ni ni-active-40\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }\n      }))), __jsx(\"div\", {\n        \"class\": \"col\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }\n      }, __jsx(\"span\", {\n        \"class\": \"h2 font-weight-bold mb-0\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 23\n        }\n      }, cat.name), __jsx(\"h5\", {\n        \"class\": \"card-title text-uppercase text-muted mb-0\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 23\n        }\n      }))))));\n    }), \" \");\n  }\n\n  return __jsx(\"body\", {\n    className: \"rtl g-sidenav-show g-sidenav-pinned\",\n    dir: \"rtl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, toggler ? __jsx(Admin_nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 20\n    }\n  }) : \"\", __jsx(\"div\", {\n    className: \"main-content\",\n    id: \"panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, __jsx(HeaderNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"container-fluid mt--6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \" col \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"card-header bg-transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, __jsx(\"h3\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, \"\\u0627\\u0644\\u0625\\u062D\\u062A\\u064A\\u0627\\u062C\\u0627\\u062A\"), newCompany == false ? __jsx(\"div\", {\n    style: {\n      \"float\": \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      setnewCompany(true); // setChoose(\"branches\");\n    },\n    \"class\": \"btn btn-icon btn-danger\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    \"class\": \"btn-inner--icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 27\n    }\n  }, \"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0625\\u062D\\u062A\\u064A\\u0627\\u062C \\u062C\\u062F\\u064A\\u062F\"))) : \"\"), newCompany == false ? __jsx(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, results ? results == \"No_data\" ? __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 27\n    }\n  }, \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\") : displayCards(results) : \"\", showSkeleton ? __jsx(Skeleton, {\n    height: 40,\n    count: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 39\n    }\n  }) : \"\") : __jsx(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, edit == false ? __jsx(NewCategoryForm, {\n    changenewCompany: changenewCompany,\n    GoBackAndTriggerMutation: GoBackAndTriggerMutation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }) : __jsx(EditCategoryForm, {\n    changenewCompany: changenewCompany,\n    GoBackAndTriggerMutation: GoBackAndTriggerMutation,\n    category: Category,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 25\n    }\n  }))))), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  })))));\n}\n\n_s(Needs, \"yCTrL9rNox5iL9d90Ro2oHQ8BtQ=\", false, function () {\n  return [useRouter, useAuth];\n});\n\n_c = Needs;\nexport default _c2 = ProtectRoute(Needs);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Needs\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/xampp/htdocs/next/pages/Needs.js"],"names":["React","useState","useEffect","Admin_nav","HeaderNav","Footer","NewCategoryForm","EditCategoryForm","useAuth","ProtectRoute","GetCategories","mutate","useRouter","Skeleton","Needs","router","toggler","settoggler","loading","data","isLoading","isError","results","showSkeleton","newCompany","setnewCompany","edit","setedit","Category","setCategory","GoBackAndTriggerMutation","changenewCompany","console","log","displayCards","marginRight","display","clear","height","map","cat","index","zIndex","position","left","top","opacity","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Admin_nav from \"../components/Admin_nav\";\r\nimport HeaderNav from \"../components/HeaderNav\";\r\nimport Footer from \"../components/Footer\";\r\nimport NewCategoryForm from \"../components/NewCategoryForm\";\r\nimport EditCategoryForm from \"../components/EditCategoryForm\";\r\n\r\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\r\nimport { GetCategories } from \"../services/api_get\";\r\nimport { mutate } from \"swr\";\r\n\r\nimport { useRouter } from \"next/router\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nfunction Needs() {\r\n  const router = useRouter();\r\n\r\n  const { toggler, settoggler, loading } = useAuth();\r\n  const { data, isLoading, isError } = GetCategories();\r\n\r\n  const results = isLoading ? false : data.data;\r\n  const showSkeleton = isLoading || loading;\r\n\r\n  const [newCompany, setnewCompany] = useState(false);\r\n  const [edit, setedit] = useState(false);\r\n  const [Category, setCategory] = useState([]);\r\n\r\n  /*function prefetch(name) {\r\n    mutate(\r\n      \"api/getCompany?name=\" + name,\r\n      api.get(\"api/getCompany?name=\" + name).then((res) => console.log(res))\r\n    );\r\n    // the second parameter is a Promise\r\n    // SWR will use the result when it resolves\r\n  }*/\r\n\r\n  function GoBackAndTriggerMutation() {\r\n    mutate(\"api/GetCategories\");\r\n    setedit(false);\r\n    setnewCompany(false);\r\n    //setnewCompany(false);\r\n  }\r\n\r\n  function changenewCompany() {\r\n    setedit(false);\r\n    setnewCompany(false);\r\n  }\r\n  console.log(newCompany);\r\n\r\n  console.log(results);\r\n\r\n  function displayCards(results) {\r\n    return (\r\n      <div>\r\n        <div style={{ float: \"right\" }}>\r\n          <h2 style={{ marginRight: \"0.8em\", display: \"inline\" }}>\r\n            إدارة الإحتياجات :\r\n          </h2>\r\n\r\n          <div style={{ clear: \"both\" }}></div>\r\n        </div>\r\n        <div class=\"col-xl-12 col-md-12\" style={{ height: \"50px\" }}></div>\r\n        {results.map((cat, index) => {\r\n          return (\r\n            <div\r\n              class=\"col-xl-3 col-md-6\"\r\n              //onMouseEnter={() => prefetch(comp.name)}\r\n            >\r\n              <div class=\"card card-stats\">\r\n                <div\r\n                  class=\"btn btn-icon \"\r\n                  style={{\r\n                    float: \"left\",\r\n                    zIndex: 9999999999,\r\n                    position: \"absolute\",\r\n                    left: 0,\r\n                    top: 17,\r\n                  }}\r\n                  onClick={() => {\r\n                    setedit(true);\r\n                    setnewCompany(true);\r\n\r\n                    setCategory(cat);\r\n                    // event.stopPropagation();\r\n                  }}\r\n                >\r\n                  <img\r\n                    width=\"20\"\r\n                    src=\"https://image.flaticon.com/icons/png/512/84/84380.png\"\r\n                  />\r\n                </div>\r\n                <div class=\"card-body\">\r\n                  <div\r\n                    class=\"btn btn-icon \"\r\n                    style={{ float: \"left\", zIndex: 99999999, opacity: 0 }}\r\n                  >\r\n                    <img\r\n                      width=\"20\"\r\n                      src=\"https://image.flaticon.com/icons/png/512/84/84380.png\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div class=\"row\">\r\n                    <div class=\"col-auto\">\r\n                      <div class=\"icon icon-shape bg-gradient-red text-white rounded-circle shadow\">\r\n                        <i class=\"ni ni-active-40\"></i>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <span class=\"h2 font-weight-bold mb-0\">{cat.name}</span>\r\n                      <h5 class=\"card-title text-uppercase text-muted mb-0\"></h5>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <body className=\"rtl g-sidenav-show g-sidenav-pinned\" dir=\"rtl\">\r\n      <div>\r\n        {/* Sidenav */}\r\n\r\n        {toggler ? <Admin_nav /> : \"\"}\r\n        {/* Main content */}\r\n\r\n        <div className=\"main-content\" id=\"panel\">\r\n          {/* Topnav */}\r\n          <HeaderNav />\r\n\r\n          <div className=\"container-fluid mt--6\">\r\n            <div className=\"row justify-content-center\">\r\n              <div className=\" col \">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-transparent\">\r\n                    <h3 className=\"mb-0\">الإحتياجات</h3>\r\n                    {newCompany == false ? (\r\n                      <div style={{ float: \"left\" }}>\r\n                        <button\r\n                          onClick={() => {\r\n                            setnewCompany(true);\r\n                            // setChoose(\"branches\");\r\n                          }}\r\n                          class=\"btn btn-icon btn-danger\"\r\n                          type=\"button\"\r\n                        >\r\n                          <span class=\"btn-inner--icon\">إنشاء إحتياج جديد</span>\r\n                        </button>\r\n                      </div>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                  {newCompany == false ? (\r\n                    <div className=\"card-body\">\r\n                      {results ? (\r\n                        results == \"No_data\" ? (\r\n                          <h2>لا يوجد بيانات</h2>\r\n                        ) : (\r\n                          displayCards(results)\r\n                        )\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n\r\n                      {showSkeleton ? <Skeleton height={40} count={10} /> : \"\"}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"card-body\">\r\n                      {edit == false ? (\r\n                        <NewCategoryForm\r\n                          changenewCompany={changenewCompany}\r\n                          GoBackAndTriggerMutation={GoBackAndTriggerMutation}\r\n                        />\r\n                      ) : (\r\n                        <EditCategoryForm\r\n                          changenewCompany={changenewCompany}\r\n                          GoBackAndTriggerMutation={GoBackAndTriggerMutation}\r\n                          category={Category}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <Footer />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Argon Scripts */}\r\n        {/* Core */}\r\n        {/* Optional JS */}\r\n        {/* Argon JS */}\r\n      </div>\r\n    </body>\r\n  );\r\n}\r\n\r\nexport default ProtectRoute(Needs);\r\n"]},"metadata":{},"sourceType":"module"}