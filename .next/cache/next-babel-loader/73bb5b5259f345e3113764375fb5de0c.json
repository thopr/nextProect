{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\next\\\\components\\\\EditMandobe.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport api from \"../services/Api\";\nimport Footer from \"../components/Footer\";\nimport { GetFullCCAs } from \"../services/api_get\";\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\nimport { useAlert } from \"react-alert\";\nimport Router from \"next/router\";\n\nfunction EditMandobe(_ref) {\n  _s();\n\n  var _this = this;\n\n  var TheUser = _ref.TheUser,\n      updatesetstep = _ref.updatesetstep;\n  var User = TheUser;\n  console.log(\"here\");\n  console.log(User);\n  var alert = useAlert(); //const [project,setProject] = useState(false);\n\n  var _useAuth = useAuth(),\n      toggler = _useAuth.toggler,\n      settoggler = _useAuth.settoggler,\n      loading = _useAuth.loading;\n\n  var _useState = useState(false),\n      spinner = _useState[0],\n      setspinner = _useState[1];\n\n  var _GetFullCCAs = GetFullCCAs(),\n      data = _GetFullCCAs.data,\n      isLoading = _GetFullCCAs.isLoading,\n      isError = _GetFullCCAs.isError;\n\n  var results = isLoading ? false : data.data;\n  console.log(results);\n  var showSkeleton = isLoading || loading;\n\n  var _useState2 = useState([]),\n      CCAs = _useState2[0],\n      setCCAs = _useState2[1];\n\n  var _useState3 = useState([]),\n      citys = _useState3[0],\n      setcitys = _useState3[1];\n\n  var _useState4 = useState([]),\n      aeras = _useState4[0],\n      setaeras = _useState4[1];\n\n  var _useState5 = useState([]),\n      list = _useState5[0],\n      updateList = _useState5[1];\n\n  var _useState6 = useState(User.city),\n      TheSelectedCountry = _useState6[0],\n      setTheSelectedCountry = _useState6[1];\n\n  var _useState7 = useState(User.county),\n      TheSelectedCity = _useState7[0],\n      setTheSelectedCity = _useState7[1];\n\n  var _useState8 = useState(User.area),\n      TheSelectedaera = _useState8[0],\n      setTheSelectedaera = _useState8[1];\n\n  var _useState9 = useState(true),\n      firstTime = _useState9[0],\n      setfirstTime = _useState9[1];\n\n  var _useState10 = useState(true),\n      firstTime2 = _useState10[0],\n      setfirstTime2 = _useState10[1];\n\n  var _useState11 = useState([]),\n      categories = _useState11[0],\n      setcategories = _useState11[1];\n\n  if (firstTime && results) {\n    setCCAs(results.options.CCAs);\n    setTheSelectedCity(User.city);\n    setTheSelectedCountry(User.county);\n    setcitys(results.options.CCAs[0].data);\n    setaeras(results.options.CCAs[0].data[0].data);\n    setfirstTime(false);\n  }\n\n  var _useState12 = useState(User.firstName),\n      FirstName = _useState12[0],\n      setFirstName = _useState12[1];\n\n  var _useState13 = useState(User.lastName),\n      LastName = _useState13[0],\n      setLastName = _useState13[1];\n\n  var _useState14 = useState(User.email),\n      email = _useState14[0],\n      setemail = _useState14[1];\n\n  var _useState15 = useState(User.phone),\n      phone = _useState15[0],\n      setphone = _useState15[1];\n\n  var _useState16 = useState(0),\n      oldWoman = _useState16[0],\n      setOldWoman = _useState16[1];\n\n  var _useState17 = useState(0),\n      oldMan = _useState17[0],\n      setOldMan = _useState17[1];\n\n  var _useState18 = useState(0),\n      accibilityPerson = _useState18[0],\n      setAccibilityPerson = _useState18[1];\n\n  var _useState19 = useState(0),\n      baby = _useState19[0],\n      setBaby = _useState19[1];\n\n  var _useState20 = useState(0),\n      orphanGirls = _useState20[0],\n      setOrphanGirls = _useState20[1];\n\n  var _useState21 = useState(0),\n      orphanBoys = _useState21[0],\n      setOrphanBoys = _useState21[1];\n\n  var _useState22 = useState(0),\n      girls = _useState22[0],\n      setGirls = _useState22[1];\n\n  var _useState23 = useState(0),\n      guys = _useState23[0],\n      setGuys = _useState23[1];\n\n  var _useState24 = useState(0),\n      women = _useState24[0],\n      setWomen = _useState24[1];\n\n  var _useState25 = useState(0),\n      men = _useState25[0],\n      setMen = _useState25[1];\n\n  var _useState26 = useState(0),\n      widows = _useState26[0],\n      setWidows = _useState26[1];\n\n  var _useState27 = useState(0),\n      girl = _useState27[0],\n      setgirl = _useState27[1];\n\n  var _useState28 = useState(0),\n      boy = _useState28[0],\n      setboy = _useState28[1];\n\n  var _useState29 = useState(1),\n      step = _useState29[0],\n      setStep = _useState29[1];\n\n  var _useState30 = useState(false),\n      allowed = _useState30[0],\n      setallowed = _useState30[1];\n\n  function updateArray(data) {\n    var favorite = list;\n    favorite.push(data);\n    updateList(favorite);\n    setallowed(true); //  setPersonNeeds((PersonNeeds) => PersonNeeds.concat(data));\n    // setPersonNeeds((PersonNeeds) => [...PersonNeeds, data]);\n  }\n\n  function removeUser(_x) {\n    return _removeUser.apply(this, arguments);\n  }\n\n  function _removeUser() {\n    _removeUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var favorite;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              favorite = list;\n\n              if (list.length == 1) {\n                setallowed(false);\n              }\n\n              _context.next = 4;\n              return favorite.filter(function (e) {\n                return e.id !== id;\n              });\n\n            case 4:\n              favorite = _context.sent;\n              updateList(favorite);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _removeUser.apply(this, arguments);\n  }\n\n  function mysubmit() {\n    var data = {\n      TheSelectedCity: TheSelectedCity,\n      TheSelectedaera: TheSelectedaera,\n      FirstName: FirstName,\n      LastName: \"\",\n      email: email,\n      phone: phone,\n      TheSelectedCountry: TheSelectedCountry,\n      oldPhone: User.phone,\n      oldemail: User.email,\n      TheUser_id: User.id\n    };\n    console.log(data);\n    var checke = true;\n\n    if (FirstName == \"\") {\n      checke = false;\n      alert.show(\"الرجاء كتابة الإسم الأول\", {\n        timeout: 2000,\n        type: \"error\"\n      });\n    }\n\n    if (phone == \"\") {\n      checke = false;\n      alert.show(\"الرجاء كتابة رقم الجوال\", {\n        timeout: 2000,\n        type: \"error\"\n      });\n    }\n\n    setspinner(true);\n\n    if (checke) {\n      api.post(\"api/UpdateMandobe\", data).then(function (res) {\n        setspinner(false);\n        console.log(res.data);\n\n        if (res.data == \"already exists\") {\n          alert.show(\"إسم الكوبون موجود مسبقا \", {\n            timeout: 2000,\n            type: \"error\"\n          });\n        }\n\n        if (res.data == \"phone\") {\n          alert.show(\"رقم الجوال مستخدم مسبقا\", {\n            timeout: 2000,\n            type: \"error\"\n          });\n        }\n\n        if (res.data == \"NotEmail\") {\n          alert.show(\"الرجاء إدخال إيميل صحيح\", {\n            timeout: 2000,\n            type: \"error\"\n          });\n        }\n\n        if (res.data > 0) {\n          alert.show(\"تم بنجاح\", {\n            timeout: 2000,\n            type: \"success\"\n          });\n          Router.push(\"/Mandobes\"); //GoBackAndTriggerMutation();\n          //router.push(\"/companys/[name]\", \"/companys/\" + formdata.companyName);\n        }\n      })[\"catch\"](function (err) {\n        alert.show(\"حصل خطأ\", {\n          timeout: 2000,\n          type: \"error\"\n        });\n        setspinner(false);\n        console.log(err);\n      });\n    }\n  }\n\n  var step2 = step;\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    style: {\n      \"float\": \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      updatesetstep(1);\n    },\n    \"class\": \"btn btn-icon btn-primary\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    \"class\": \"btn-inner--icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    \"class\": \"fa fa-arrow-right\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }))), __jsx(\"h2\", {\n    style: {\n      marginRight: \"0.8em\",\n      display: \"inline\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }, \"\\u0627\\u0644\\u0639\\u0648\\u062F\\u0629 \\u0627\\u0644\\u0649 \\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062C\\u0645\\u0639\\u064A\\u0627\\u062A\")), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }), step == 1 ? __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    className: \"form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 15\n    }\n  }, \"\\u0627\\u0644\\u062F\\u0648\\u0644\\u0629\"), __jsx(\"select\", {\n    name: \"county\",\n    onChange: function onChange(e) {\n      var selectedCounty = e.target.value;\n      setTheSelectedCountry(selectedCounty);\n      /*if (firstTime) {\r\n                          setfirstTime(false);\r\n                        }*/\n\n      for (var index = 0; index < CCAs.length; index++) {\n        var tempconunty = CCAs[index];\n\n        if (tempconunty.name === selectedCounty) {\n          setcitys(tempconunty.data);\n\n          if (tempconunty.data[0]) {\n            setTheSelectedCity(tempconunty.data[0].name);\n            setaeras(tempconunty.data[0].data);\n          } else {\n            setaeras([]);\n          }\n        }\n      }\n    },\n    \"class\": \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, CCAs ? CCAs.map(function (county, index) {\n    return __jsx(\"option\", {\n      selected: User.county == county.name ? true : false,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 25\n      }\n    }, county.name);\n  }) : \"\"))), __jsx(\"div\", {\n    className: \"col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    className: \"form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 15\n    }\n  }, \"\\u0627\\u0644\\u0645\\u062F\\u064A\\u0646\\u0629\"), __jsx(\"select\", {\n    id: \"mycity\",\n    name: \"city\",\n    onChange: function onChange(e) {\n      var selectedcity = e.target.value;\n      setTheSelectedCity(e.target.value);\n      /*if (firstTime) {\r\n                          setfirstTime(false);\r\n                        }*/\n\n      for (var index = 0; index < citys.length; index++) {\n        var tempcity = citys[index];\n\n        if (tempcity.name === selectedcity) {\n          setaeras(tempcity.data);\n        }\n      }\n    },\n    \"class\": \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 15\n    }\n  }, citys.length > 0 ? citys.map(function (city, index) {\n    return __jsx(\"option\", {\n      selected: User.city == city.name ? true : false,\n      value: city.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 25\n      }\n    }, city.name);\n  }) : \"\"))), __jsx(\"div\", {\n    className: \"col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    className: \"form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 15\n    }\n  }, \"\\u0627\\u0644\\u0645\\u0646\\u0637\\u0642\\u0629\"), __jsx(\"select\", {\n    name: \"aeras\",\n    onChange: function onChange(e) {\n      setTheSelectedaera(e.target.value);\n    },\n    \"class\": \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 15\n    }\n  }, __jsx(\"option\", {\n    selected: User.area == \"all\" ? true : false,\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 17\n    }\n  }, \"\\u0627\\u0644\\u0643\\u0644\"), aeras.length > 0 ? aeras.map(function (aeras, index) {\n    return __jsx(\"option\", {\n      selected: User.area == aeras.name ? true : false,\n      value: aeras.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 25\n      }\n    }, aeras.name);\n  }) : \"\"))), __jsx(\"h6\", {\n    className: \"heading-small text-muted mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 11\n    }\n  }, \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u062C\\u0645\\u0639\\u064A\\u0629\"), __jsx(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    className: \"form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 15\n    }\n  }, \"\\u0627\\u0644\\u0625\\u0633\\u0645 \"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"FirstName\",\n    onChange: function onChange(e) {\n      setFirstName(e.target.value);\n    },\n    value: FirstName,\n    className: \"form-control\",\n    placeholder: \"\\u0627\\u0644\\u0625\\u0633\\u0645 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 15\n    }\n  }))), __jsx(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    className: \"form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 15\n    }\n  }, \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062C\\u0648\\u0627\\u0644\"), __jsx(\"input\", {\n    type: \"number\",\n    name: \"phone\",\n    onChange: function onChange(e) {\n      setphone(e.target.value);\n    },\n    value: phone,\n    className: \"form-control\",\n    placeholder: \"96650xxxxx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 15\n    }\n  }))), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 11\n    }\n  })) : \"\", __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }\n  }, __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    style: {\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    \"class\": \"btn btn-icon btn-success\",\n    onClick: function onClick() {\n      mysubmit();\n    },\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    style: {\n      marginLeft: \".75em\",\n      marginRight: \"auto\"\n    },\n    \"class\": \"btn-inner--text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 13\n    }\n  }, \"\\u062A\\u062D\\u062F\\u064A\\u062B\"), \"     \", __jsx(\"span\", {\n    \"class\": \"btn-inner--icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    \"class\": \"ni ni-send\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 15\n    }\n  }))))));\n}\n\n_s(EditMandobe, \"ciRa8rUoGGdXj3OyedjH7+lFW84=\", false, function () {\n  return [useAlert, useAuth];\n});\n\n_c = EditMandobe;\nexport default EditMandobe;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditMandobe\");","map":{"version":3,"sources":["C:/xampp/htdocs/next/components/EditMandobe.js"],"names":["React","useState","useEffect","api","Footer","GetFullCCAs","useAuth","ProtectRoute","useAlert","Router","EditMandobe","TheUser","updatesetstep","User","console","log","alert","toggler","settoggler","loading","spinner","setspinner","data","isLoading","isError","results","showSkeleton","CCAs","setCCAs","citys","setcitys","aeras","setaeras","list","updateList","city","TheSelectedCountry","setTheSelectedCountry","county","TheSelectedCity","setTheSelectedCity","area","TheSelectedaera","setTheSelectedaera","firstTime","setfirstTime","firstTime2","setfirstTime2","categories","setcategories","options","firstName","FirstName","setFirstName","lastName","LastName","setLastName","email","setemail","phone","setphone","oldWoman","setOldWoman","oldMan","setOldMan","accibilityPerson","setAccibilityPerson","baby","setBaby","orphanGirls","setOrphanGirls","orphanBoys","setOrphanBoys","girls","setGirls","guys","setGuys","women","setWomen","men","setMen","widows","setWidows","girl","setgirl","boy","setboy","step","setStep","allowed","setallowed","updateArray","favorite","push","removeUser","id","length","filter","e","mysubmit","oldPhone","oldemail","TheUser_id","checke","show","timeout","type","post","then","res","err","step2","marginRight","display","selectedCounty","target","value","index","tempconunty","name","map","selectedcity","tempcity","textAlign","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport api from \"../services/Api\";\r\n\r\nimport Footer from \"../components/Footer\";\r\nimport { GetFullCCAs } from \"../services/api_get\";\r\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\r\nimport { useAlert } from \"react-alert\";\r\nimport Router from \"next/router\";\r\nfunction EditMandobe({ TheUser, updatesetstep }) {\r\n  const User = TheUser;\r\n  console.log(\"here\");\r\n  console.log(User);\r\n  const alert = useAlert();\r\n\r\n  //const [project,setProject] = useState(false);\r\n\r\n  const { toggler, settoggler, loading } = useAuth();\r\n  const [spinner, setspinner] = useState(false);\r\n\r\n  const { data, isLoading, isError } = GetFullCCAs();\r\n\r\n  const results = isLoading ? false : data.data;\r\n  console.log(results);\r\n\r\n  const showSkeleton = isLoading || loading;\r\n  const [CCAs, setCCAs] = useState([]);\r\n\r\n  const [citys, setcitys] = useState([]);\r\n  const [aeras, setaeras] = useState([]);\r\n  const [list, updateList] = useState([]);\r\n  const [TheSelectedCountry, setTheSelectedCountry] = useState(User.city);\r\n  const [TheSelectedCity, setTheSelectedCity] = useState(User.county);\r\n  const [TheSelectedaera, setTheSelectedaera] = useState(User.area);\r\n  const [firstTime, setfirstTime] = useState(true);\r\n  const [firstTime2, setfirstTime2] = useState(true);\r\n  const [categories, setcategories] = useState([]);\r\n\r\n  if (firstTime && results) {\r\n    setCCAs(results.options.CCAs);\r\n\r\n    setTheSelectedCity(User.city);\r\n\r\n    setTheSelectedCountry(User.county);\r\n\r\n    setcitys(results.options.CCAs[0].data);\r\n    setaeras(results.options.CCAs[0].data[0].data);\r\n\r\n    setfirstTime(false);\r\n  }\r\n\r\n  const [FirstName, setFirstName] = useState(User.firstName);\r\n  const [LastName, setLastName] = useState(User.lastName);\r\n  const [email, setemail] = useState(User.email);\r\n  const [phone, setphone] = useState(User.phone);\r\n\r\n  const [oldWoman, setOldWoman] = useState(0);\r\n  const [oldMan, setOldMan] = useState(0);\r\n  const [accibilityPerson, setAccibilityPerson] = useState(0);\r\n  const [baby, setBaby] = useState(0);\r\n  const [orphanGirls, setOrphanGirls] = useState(0);\r\n  const [orphanBoys, setOrphanBoys] = useState(0);\r\n  const [girls, setGirls] = useState(0);\r\n  const [guys, setGuys] = useState(0);\r\n  const [women, setWomen] = useState(0);\r\n  const [men, setMen] = useState(0);\r\n  const [widows, setWidows] = useState(0);\r\n  const [girl, setgirl] = useState(0);\r\n  const [boy, setboy] = useState(0);\r\n\r\n  const [step, setStep] = useState(1);\r\n\r\n  const [allowed, setallowed] = useState(false);\r\n\r\n  function updateArray(data) {\r\n    let favorite = list;\r\n    favorite.push(data);\r\n\r\n    updateList(favorite);\r\n    setallowed(true);\r\n\r\n    //  setPersonNeeds((PersonNeeds) => PersonNeeds.concat(data));\r\n    // setPersonNeeds((PersonNeeds) => [...PersonNeeds, data]);\r\n  }\r\n\r\n  async function removeUser(id) {\r\n    let favorite = list;\r\n    if (list.length == 1) {\r\n      setallowed(false);\r\n    }\r\n    favorite = await favorite.filter((e) => e.id !== id);\r\n    updateList(favorite);\r\n  }\r\n\r\n  function mysubmit() {\r\n    let data = {\r\n      TheSelectedCity,\r\n      TheSelectedaera,\r\n      FirstName,\r\n      LastName:\"\",\r\n      email,\r\n      phone,\r\n\r\n      TheSelectedCountry,\r\n\r\n      oldPhone: User.phone,\r\n      oldemail: User.email,\r\n      TheUser_id: User.id,\r\n    };\r\n\r\n    console.log(data);\r\n\r\n    let checke = true;\r\n\r\n    if (FirstName == \"\") {\r\n      checke = false;\r\n      alert.show(\"الرجاء كتابة الإسم الأول\", {\r\n        timeout: 2000,\r\n        type: \"error\",\r\n      });\r\n    }\r\n\r\n\r\n\r\n    if (phone == \"\") {\r\n      checke = false;\r\n      alert.show(\"الرجاء كتابة رقم الجوال\", {\r\n        timeout: 2000,\r\n        type: \"error\",\r\n      });\r\n    }\r\n\r\n    \r\n\r\n    setspinner(true);\r\n    if (checke) {\r\n      api\r\n        .post(\"api/UpdateMandobe\", data)\r\n        .then((res) => {\r\n          setspinner(false);\r\n          console.log(res.data);\r\n\r\n          if (res.data == \"already exists\") {\r\n            alert.show(\"إسم الكوبون موجود مسبقا \", {\r\n              timeout: 2000,\r\n              type: \"error\",\r\n            });\r\n          }\r\n          if (res.data == \"phone\") {\r\n            alert.show(\"رقم الجوال مستخدم مسبقا\", {\r\n              timeout: 2000,\r\n              type: \"error\",\r\n            });\r\n          }\r\n\r\n          if (res.data == \"NotEmail\") {\r\n            alert.show(\"الرجاء إدخال إيميل صحيح\", {\r\n              timeout: 2000,\r\n              type: \"error\",\r\n            });\r\n          }\r\n\r\n          if (res.data > 0) {\r\n            alert.show(\"تم بنجاح\", {\r\n              timeout: 2000,\r\n              type: \"success\",\r\n            });\r\n            Router.push(\"/Mandobes\");\r\n            //GoBackAndTriggerMutation();\r\n            //router.push(\"/companys/[name]\", \"/companys/\" + formdata.companyName);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          alert.show(\"حصل خطأ\", {\r\n            timeout: 2000,\r\n            type: \"error\",\r\n          });\r\n          setspinner(false);\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n\r\n  let step2 = step;\r\n  return (\r\n    <>\r\n      <div style={{ float: \"right\" }}>\r\n        <button\r\n          onClick={() => {\r\n            updatesetstep(1);\r\n          }}\r\n          class=\"btn btn-icon btn-primary\"\r\n          type=\"button\"\r\n        >\r\n          <span class=\"btn-inner--icon\">\r\n            <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i>\r\n          </span>\r\n        </button>\r\n        <h2\r\n          style={{\r\n            marginRight: \"0.8em\",\r\n            display: \"inline\",\r\n          }}\r\n        >\r\n          العودة الى قائمة الجمعيات\r\n        </h2>\r\n      </div>\r\n      <br />\r\n      <hr />\r\n      {/* Light table */}\r\n      {step == 1 ? (\r\n        <div>\r\n          <div className=\"col-lg-4\">\r\n            <div className=\"form-group\">\r\n              <label className=\"form-control-label\">الدولة</label>\r\n              <select\r\n                name=\"county\"\r\n                onChange={(e) => {\r\n                  let selectedCounty = e.target.value;\r\n                  setTheSelectedCountry(selectedCounty);\r\n                  /*if (firstTime) {\r\n                                      setfirstTime(false);\r\n                                    }*/\r\n                  for (let index = 0; index < CCAs.length; index++) {\r\n                    const tempconunty = CCAs[index];\r\n                    if (tempconunty.name === selectedCounty) {\r\n                      setcitys(tempconunty.data);\r\n\r\n                      if (tempconunty.data[0]) {\r\n                        setTheSelectedCity(tempconunty.data[0].name);\r\n                        setaeras(tempconunty.data[0].data);\r\n                      } else {\r\n                        setaeras([]);\r\n                      }\r\n                    }\r\n                  }\r\n                }}\r\n                class=\"form-control\"\r\n              >\r\n                {CCAs\r\n                  ? CCAs.map((county, index) => {\r\n                      return (\r\n                        <option\r\n                          selected={User.county == county.name ? true : false}\r\n                        >\r\n                          {county.name}\r\n                        </option>\r\n                      );\r\n                    })\r\n                  : \"\"}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4\">\r\n            <div className=\"form-group\">\r\n              <label className=\"form-control-label\">المدينة</label>\r\n              <select\r\n                id=\"mycity\"\r\n                name=\"city\"\r\n                onChange={(e) => {\r\n                  let selectedcity = e.target.value;\r\n                  setTheSelectedCity(e.target.value);\r\n                  /*if (firstTime) {\r\n                                      setfirstTime(false);\r\n                                    }*/\r\n                  for (let index = 0; index < citys.length; index++) {\r\n                    const tempcity = citys[index];\r\n                    if (tempcity.name === selectedcity) {\r\n                      setaeras(tempcity.data);\r\n                    }\r\n                  }\r\n                }}\r\n                class=\"form-control\"\r\n              >\r\n                {citys.length > 0\r\n                  ? citys.map((city, index) => {\r\n                      return (\r\n                        <option\r\n                          selected={User.city == city.name ? true : false}\r\n                          value={city.name}\r\n                        >\r\n                          {city.name}\r\n                        </option>\r\n                      );\r\n                    })\r\n                  : \"\"}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            <div className=\"form-group\">\r\n              <label className=\"form-control-label\">المنطقة</label>\r\n              <select\r\n                name=\"aeras\"\r\n                onChange={(e) => {\r\n                  setTheSelectedaera(e.target.value);\r\n                }}\r\n                class=\"form-control\"\r\n              >\r\n                <option selected={User.area == \"all\" ? true : false} value=\"0\">\r\n                  الكل\r\n                </option>\r\n                {aeras.length > 0\r\n                  ? aeras.map((aeras, index) => {\r\n                      return (\r\n                        <option\r\n                          selected={User.area == aeras.name ? true : false}\r\n                          value={aeras.name}\r\n                        >\r\n                          {aeras.name}\r\n                        </option>\r\n                      );\r\n                    })\r\n                  : \"\"}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <h6 className=\"heading-small text-muted mb-4\">معلومات الجمعية</h6>\r\n\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"form-group\">\r\n              <label className=\"form-control-label\">الإسم </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"FirstName\"\r\n                onChange={(e) => {\r\n                  setFirstName(e.target.value);\r\n                }}\r\n                value={FirstName}\r\n                className=\"form-control\"\r\n                placeholder=\"الإسم \"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-12\">\r\n            <div className=\"form-group\">\r\n              <label className=\"form-control-label\">رقم الجوال</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"phone\"\r\n                onChange={(e) => {\r\n                  setphone(e.target.value);\r\n                }}\r\n                value={phone}\r\n                className=\"form-control\"\r\n                placeholder=\"96650xxxxx\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <hr />\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      <div>\r\n        <hr />\r\n\r\n        <div style={{ textAlign: \"left\" }}>\r\n          <button\r\n            class=\"btn btn-icon btn-success\"\r\n            onClick={() => {\r\n              mysubmit();\r\n            }}\r\n            type=\"button\"\r\n          >\r\n            <span\r\n              style={{\r\n                marginLeft: \".75em\",\r\n                marginRight: \"auto\",\r\n              }}\r\n              class=\"btn-inner--text\"\r\n            >\r\n              تحديث\r\n            </span>\r\n            {\"     \"}\r\n            <span class=\"btn-inner--icon\">\r\n              <i class=\"ni ni-send\"></i>\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditMandobe;\r\n"]},"metadata":{},"sourceType":"module"}