{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\next\\\\components\\\\EditCompanyForm.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useContext } from \"react\"; //\n\nimport { useForm } from \"react-hook-form\";\nimport api from \"../services/Api\";\nimport { GetCCAs } from \"../services/api_get\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { useAlert } from \"react-alert\";\nimport { useRouter } from \"next/router\";\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\n\nfunction EditCompanyForm(_ref) {\n  _s();\n\n  var changenewCompany = _ref.changenewCompany,\n      comp = _ref.comp,\n      GoBackAndTriggerMutation = _ref.GoBackAndTriggerMutation;\n  var alert = useAlert();\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      toggler = _useAuth.toggler,\n      settoggler = _useAuth.settoggler,\n      loading = _useAuth.loading;\n\n  var _useState = useState(false),\n      spinner = _useState[0],\n      setspinner = _useState[1];\n\n  var id = comp.id;\n\n  var _useForm = useForm({\n    defaultValues: {\n      companyName: comp.name,\n      companyShortDesc: comp.ShortDesc,\n      companyFullDesc: comp.FullDesc\n    }\n  }),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors;\n\n  var onSubmit = function onSubmit(formdata) {\n    formdata = _objectSpread(_objectSpread({}, formdata), {}, {\n      id: id\n    });\n    console.log(formdata);\n    setspinner(true);\n    api.post(\"api/UpdateCompany\", formdata).then(function (res) {\n      console.log(res.data);\n      setspinner(false);\n\n      if (res.data == \"phone\") {\n        alert.show(\"رقم الجوال مستخدم مسبقا\", {\n          timeout: 2000,\n          type: \"error\"\n        });\n      }\n\n      if (res.data > 0) {\n        alert.show(\"تم بنجاح\", {\n          timeout: 2000,\n          type: \"success\"\n        });\n        GoBackAndTriggerMutation();\n      }\n    })[\"catch\"](function (err) {\n      alert.show(\" خطا\" + err, {\n        timeout: 2000,\n        type: \"error\"\n      });\n      setspinner(false);\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    style: {\n      \"float\": \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      changenewCompany();\n    },\n    \"class\": \"btn btn-icon btn-primary\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    \"class\": \"btn-inner--icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    \"class\": \"fa fa-arrow-right\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }))), __jsx(\"h2\", {\n    style: {\n      marginRight: \"0.8em\",\n      display: \"inline\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629 :\"), __jsx(\"div\", {\n    style: {\n      clear: \"both\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  })), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    \"class\": \"col-xl-12 col-md-12\",\n    style: {\n      height: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, __jsx(\"h6\", {\n    className: \"heading-small text-muted mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"), __jsx(\"div\", {\n    className: \"pl-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    className: \"form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"\\u0625\\u0633\\u0645 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"companyName\" //value={comp.name}\n    ,\n    ref: register({\n      required: true,\n      minLength: 3\n    }),\n    className: \"form-control\",\n    placeholder: \"\\u0645\\u062B\\u0627\\u0644 : \\u0627\\u0644\\u062F\\u0627\\u0646\\u0648\\u0628\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  })), errors.companyName && errors.companyName.type === \"required\" && __jsx(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"\\u0647\\u0630\\u0627 \\u0627\\u0644\\u062D\\u0642\\u0644 \\u0645\\u0637\\u0644\\u0648\\u0628\"), errors.companyName && errors.companyName.type === \"minLength\" && __jsx(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, \"\\u0627\\u0644\\u0625\\u0633\\u0645 \\u0627\\u0644\\u0645\\u062F\\u062E\\u0644 \\u0642\\u0635\\u064A\\u0631 \\u0644\\u0644\\u063A\\u0627\\u064A\\u0629\")), __jsx(\"div\", {\n    className: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, __jsx(\"label\", {\n    className: \"form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, \"\\u0648\\u0635\\u0641 \\u0642\\u0635\\u064A\\u0631\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"companyShortDesc\",\n    ref: register({\n      required: true,\n      minLength: 3,\n      maxLength: 100\n    }),\n    className: \"form-control\",\n    placeholder: \"\\u0648\\u0635\\u0641 \\u0642\\u0635\\u064A\\u0631\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  })), errors.companyShortDesc && errors.companyShortDesc.type === \"required\" && __jsx(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 19\n    }\n  }, \"\\u0647\\u0630\\u0627 \\u0627\\u0644\\u062D\\u0642\\u0644 \\u0645\\u0637\\u0644\\u0648\\u0628\"), errors.companyShortDesc && errors.companyShortDesc.type === \"minLength\" && __jsx(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }, \"\\u0627\\u0644\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0645\\u062F\\u062E\\u0644 \\u0642\\u0635\\u064A\\u0631 \\u0644\\u0644\\u063A\\u0627\\u064A\\u0629\"), errors.companyShortDesc && errors.companyShortDesc.type === \"maxLength\" && __jsx(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, \"\\u0627\\u0644\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0645\\u062F\\u062E\\u0644 \\u0637\\u0648\\u064A\\u0644 \\u0644\\u0644\\u063A\\u0627\\u064A\\u0629\")))), __jsx(\"div\", {\n    \"class\": \"pl-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    \"class\": \"form-control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \" \\u0648\\u0635\\u0641 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644\"), __jsx(\"textarea\", {\n    rows: \"4\",\n    \"class\": \"form-control\",\n    name: \"companyFullDesc\",\n    ref: register({\n      minLength: 3\n    }),\n    placeholder: \"\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644 ...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, \"\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"), errors.companyFullDesc && errors.companyFullDesc.type === \"minLength\" && __jsx(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, \"\\u0627\\u0644\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0645\\u062F\\u062E\\u0644 \\u0642\\u0635\\u064A\\u0631 \\u0644\\u0644\\u063A\\u0627\\u064A\\u0629\"))), spinner ? __jsx(\"button\", {\n    className: \"btn btn-default\",\n    disabled: true,\n    style: {\n      \"float\": \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: \"spinner-grow spinner-grow-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }), \"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u0625\\u0631\\u0633\\u0627\\u0644 ..\") : __jsx(\"input\", {\n    style: {\n      \"float\": \"left\"\n    },\n    type: \"submit\",\n    className: \"btn btn-default\",\n    value: loading ? \"Loading...\" : \"تعديل\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  })));\n}\n\n_s(EditCompanyForm, \"rynFuOYYNLsU28GJ7KD3dAfu2vY=\", false, function () {\n  return [useAlert, useRouter, useAuth, useForm];\n});\n\n_c = EditCompanyForm;\nexport default EditCompanyForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCompanyForm\");","map":{"version":3,"sources":["C:/xampp/htdocs/next/components/EditCompanyForm.js"],"names":["React","useState","useEffect","useContext","useForm","api","GetCCAs","Skeleton","useAlert","useRouter","useAuth","ProtectRoute","EditCompanyForm","changenewCompany","comp","GoBackAndTriggerMutation","alert","router","toggler","settoggler","loading","spinner","setspinner","id","defaultValues","companyName","name","companyShortDesc","ShortDesc","companyFullDesc","FullDesc","register","handleSubmit","errors","onSubmit","formdata","console","log","post","then","res","data","show","timeout","type","err","marginRight","display","clear","height","required","minLength","color","maxLength"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\"; //\r\nimport { useForm } from \"react-hook-form\";\r\nimport api from \"../services/Api\";\r\nimport { GetCCAs } from \"../services/api_get\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { useAlert } from \"react-alert\";\r\n\r\nimport { useRouter } from \"next/router\";\r\nimport useAuth, { ProtectRoute } from \"../contexts/auth.js\";\r\n\r\nfunction EditCompanyForm({ changenewCompany, comp, GoBackAndTriggerMutation }) {\r\n  const alert = useAlert();\r\n  const router = useRouter();\r\n\r\n  const { toggler, settoggler, loading } = useAuth();\r\n  const [spinner, setspinner] = useState(false);\r\n\r\n  const id = comp.id;\r\n\r\n  const { register, handleSubmit, errors } = useForm({\r\n    defaultValues: {\r\n      companyName: comp.name,\r\n      companyShortDesc: comp.ShortDesc,\r\n      companyFullDesc: comp.FullDesc,\r\n    },\r\n  });\r\n\r\n  const onSubmit = (formdata) => {\r\n    formdata = { ...formdata, id };\r\n\r\n    console.log(formdata);\r\n    setspinner(true);\r\n\r\n    api\r\n      .post(\"api/UpdateCompany\", formdata)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setspinner(false);\r\n        if (res.data == \"phone\") {\r\n          alert.show(\"رقم الجوال مستخدم مسبقا\", {\r\n            timeout: 2000,\r\n            type: \"error\",\r\n          });\r\n        }\r\n\r\n        if (res.data > 0) {\r\n          alert.show(\"تم بنجاح\", {\r\n            timeout: 2000,\r\n            type: \"success\",\r\n          });\r\n          GoBackAndTriggerMutation();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        alert.show(\" خطا\" + err, {\r\n          timeout: 2000,\r\n          type: \"error\",\r\n        });\r\n        setspinner(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ float: \"right\" }}>\r\n        <button\r\n          onClick={() => {\r\n            changenewCompany();\r\n          }}\r\n          class=\"btn btn-icon btn-primary\"\r\n          type=\"button\"\r\n        >\r\n          <span class=\"btn-inner--icon\">\r\n            <i class=\"fa fa-arrow-right\" aria-hidden=\"true\"></i>\r\n          </span>\r\n        </button>\r\n        <h2 style={{ marginRight: \"0.8em\", display: \"inline\" }}>\r\n          تعديل الشركة :\r\n        </h2>\r\n\r\n        <div style={{ clear: \"both\" }}></div>\r\n      </div>\r\n      <br></br>\r\n      <div class=\"col-xl-12 col-md-12\" style={{ height: \"50px\" }}></div>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <h6 className=\"heading-small text-muted mb-4\">معلومات الشركة</h6>\r\n        <div className=\"pl-lg-4\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-6\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-control-label\">إسم الشركة</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"companyName\"\r\n                  //value={comp.name}\r\n                  ref={register({\r\n                    required: true,\r\n                    minLength: 3,\r\n                  })}\r\n                  className=\"form-control\"\r\n                  placeholder=\"مثال : الدانوب\"\r\n                />\r\n              </div>\r\n              {errors.companyName && errors.companyName.type === \"required\" && (\r\n                <p style={{ color: \"red\" }}>هذا الحقل مطلوب</p>\r\n              )}\r\n              {errors.companyName &&\r\n                errors.companyName.type === \"minLength\" && (\r\n                  <p style={{ color: \"red\" }}>الإسم المدخل قصير للغاية</p>\r\n                )}\r\n            </div>\r\n            <div className=\"col-lg-6\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-control-label\">وصف قصير</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"companyShortDesc\"\r\n                  ref={register({\r\n                    required: true,\r\n                    minLength: 3,\r\n                    maxLength: 100,\r\n                  })}\r\n                  className=\"form-control\"\r\n                  placeholder=\"وصف قصير\"\r\n                />\r\n              </div>\r\n              {errors.companyShortDesc &&\r\n                errors.companyShortDesc.type === \"required\" && (\r\n                  <p style={{ color: \"red\" }}>هذا الحقل مطلوب</p>\r\n                )}\r\n              {errors.companyShortDesc &&\r\n                errors.companyShortDesc.type === \"minLength\" && (\r\n                  <p style={{ color: \"red\" }}>الوصف المدخل قصير للغاية</p>\r\n                )}\r\n              {errors.companyShortDesc &&\r\n                errors.companyShortDesc.type === \"maxLength\" && (\r\n                  <p style={{ color: \"red\" }}>الوصف المدخل طويل للغاية</p>\r\n                )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"pl-lg-4\">\r\n          <div class=\"form-group\">\r\n            <label class=\"form-control-label\"> وصف الشركة الكامل</label>\r\n            <textarea\r\n              rows=\"4\"\r\n              class=\"form-control\"\r\n              name=\"companyFullDesc\"\r\n              ref={register({\r\n                minLength: 3,\r\n              })}\r\n              placeholder=\"وصف الشركة الكامل ...\"\r\n            >\r\n              وصف الشركة\r\n            </textarea>\r\n            {errors.companyFullDesc &&\r\n              errors.companyFullDesc.type === \"minLength\" && (\r\n                <p style={{ color: \"red\" }}>الوصف المدخل قصير للغاية</p>\r\n              )}\r\n          </div>\r\n        </div>\r\n\r\n        {spinner ? (\r\n          <button\r\n            className=\"btn btn-default\"\r\n            disabled\r\n            style={{ float: \"left\" }}\r\n          >\r\n            <span className=\"spinner-grow spinner-grow-sm\"></span>\r\n            جاري الإرسال ..\r\n          </button>\r\n        ) : (\r\n          <input\r\n            style={{ float: \"left\" }}\r\n            type=\"submit\"\r\n            className=\"btn btn-default\"\r\n            value={loading ? \"Loading...\" : \"تعديل\"}\r\n          />\r\n        )}\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditCompanyForm;\r\n"]},"metadata":{},"sourceType":"module"}