{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\next\\\\pages\\\\companys\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Admin_nav from \"../../components/Admin_nav\";\nimport HeaderNav from \"../../components/HeaderNav\";\nimport Footer from \"../../components/Footer\";\nimport NewCompanyForm from \"../../components/NewCompanyForm\";\nimport EditCompanyForm from \"../../components/EditCompanyForm\";\nimport useAuth, { ProtectRoute } from \"../../contexts/auth.js\";\nimport { GetCompanys } from \"../../services/api_get\";\nimport { mutate } from \"swr\";\nimport { useRouter } from \"next/router\";\nimport Skeleton from \"react-loading-skeleton\";\n\nfunction companys() {\n  _s();\n\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      toggler = _useAuth.toggler,\n      settoggler = _useAuth.settoggler,\n      loading = _useAuth.loading;\n\n  var _GetCompanys = GetCompanys(),\n      data = _GetCompanys.data,\n      isLoading = _GetCompanys.isLoading,\n      isError = _GetCompanys.isError;\n\n  var results = isLoading ? false : data.data;\n  var showSkeleton = isLoading || loading;\n\n  var _useState = useState(false),\n      newCompany = _useState[0],\n      setnewCompany = _useState[1];\n\n  var _useState2 = useState(false),\n      edit = _useState2[0],\n      setedit = _useState2[1];\n\n  var _useState3 = useState([]),\n      Company = _useState3[0],\n      setCompany = _useState3[1];\n  /*function prefetch(name) {\r\n    mutate(\r\n      \"api/getCompany?name=\" + name,\r\n      api.get(\"api/getCompany?name=\" + name).then((res) => console.log(res))\r\n    );\r\n    // the second parameter is a Promise\r\n    // SWR will use the result when it resolves\r\n  }*/\n\n\n  function GoBackAndTriggerMutation() {\n    mutate(\"api/GetCompanys\");\n    setedit(false);\n    setnewCompany(false); //setnewCompany(false);\n  }\n\n  function changenewCompany() {\n    setedit(false);\n    setnewCompany(false);\n  }\n\n  console.log(newCompany);\n  console.log(results);\n\n  function displayCards(results) {\n    var _this = this;\n\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      style: {\n        \"float\": \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, __jsx(\"h2\", {\n      style: {\n        marginRight: \"0.8em\",\n        display: \"inline\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }, \"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0645\\u062A\\u062C\\u0631 :\")), __jsx(\"div\", {\n      style: {\n        clear: \"both\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }), __jsx(\"div\", {\n      \"class\": \"col-xl-12 col-md-12\",\n      style: {\n        height: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }), results.map(function (comp, index) {\n      return __jsx(\"div\", {\n        \"class\": \"col-xl-3 col-md-6\" //onMouseEnter={() => prefetch(comp.name)}\n        ,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"card card-stats\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"btn btn-icon \",\n        style: {\n          \"float\": \"left\",\n          zIndex: 9999999999,\n          position: \"absolute\",\n          left: 0,\n          top: 17\n        },\n        onClick: function onClick() {\n          setedit(true);\n          setnewCompany(true);\n          setCompany(comp); // event.stopPropagation();\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, __jsx(\"img\", {\n        width: \"20\",\n        src: \"https://image.flaticon.com/icons/png/512/84/84380.png\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      })), __jsx(\"div\", {\n        \"class\": \"card-body\",\n        onClick: function onClick() {\n          console.log(index);\n          router.push(\"/companys/[name]\", \"/companys/\" + comp.CompanyCode); //setChoose(\"branch\");\n          // setCompany(comp.branches);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"btn btn-icon \",\n        style: {\n          \"float\": \"left\",\n          zIndex: 99999999,\n          opacity: 0\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 19\n        }\n      }, __jsx(\"img\", {\n        width: \"20\",\n        src: \"https://image.flaticon.com/icons/png/512/84/84380.png\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }\n      })), __jsx(\"div\", {\n        \"class\": \"row\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 19\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"col-auto\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"icon icon-shape bg-gradient-red text-white rounded-circle shadow\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 23\n        }\n      }, __jsx(\"img\", {\n        width: \"90\",\n        src: comp.logo,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }\n      }))), __jsx(\"div\", {\n        \"class\": \"col\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }\n      }, __jsx(\"span\", {\n        \"class\": \"h2 font-weight-bold mb-0\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 23\n        }\n      }, comp.name), __jsx(\"h5\", {\n        \"class\": \"card-title text-uppercase text-muted mb-0\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 23\n        }\n      }, comp.ShortDesc))))));\n    }), \" \");\n  }\n\n  return __jsx(\"body\", {\n    className: \"rtl g-sidenav-show g-sidenav-pinned\",\n    dir: \"rtl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, toggler ? __jsx(Admin_nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 20\n    }\n  }) : \"\", __jsx(\"div\", {\n    className: \"main-content\",\n    id: \"panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, __jsx(HeaderNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"container-fluid mt--6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \" col \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"card-header bg-transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }, __jsx(\"h3\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, \"\\u0627\\u0644\\u0634\\u0631\\u0643\\u0627\\u062A\"), newCompany == false ? __jsx(\"div\", {\n    style: {\n      \"float\": \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 23\n    }\n  }, __jsx(\"button\", {\n    onClick: function onClick() {\n      setnewCompany(true); // setChoose(\"branches\");\n    },\n    \"class\": \"btn btn-icon btn-danger\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }, __jsx(\"span\", {\n    \"class\": \"btn-inner--icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 27\n    }\n  }, \"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0634\\u0631\\u0643\\u0629 \\u062C\\u062F\\u064A\\u062F\\u0629\"))) : \"\"), newCompany == false ? __jsx(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, results ? results == \"No_data\" ? __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 27\n    }\n  }, \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\") : displayCards(results) : \"\", showSkeleton ? __jsx(Skeleton, {\n    height: 40,\n    count: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 39\n    }\n  }) : \"\") : __jsx(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, edit == false ? __jsx(NewCompanyForm, {\n    changenewCompany: changenewCompany,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }) : __jsx(EditCompanyForm, {\n    changenewCompany: changenewCompany,\n    GoBackAndTriggerMutation: GoBackAndTriggerMutation,\n    comp: Company,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }))))), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  })))));\n}\n\n_s(companys, \"vcfqRO0ey/RI9+HOhAOeHJ4wu/s=\", false, function () {\n  return [useRouter, useAuth];\n});\n\nexport default ProtectRoute(companys);","map":{"version":3,"sources":["C:/xampp/htdocs/next/pages/companys/index.js"],"names":["React","useState","useEffect","Admin_nav","HeaderNav","Footer","NewCompanyForm","EditCompanyForm","useAuth","ProtectRoute","GetCompanys","mutate","useRouter","Skeleton","companys","router","toggler","settoggler","loading","data","isLoading","isError","results","showSkeleton","newCompany","setnewCompany","edit","setedit","Company","setCompany","GoBackAndTriggerMutation","changenewCompany","console","log","displayCards","marginRight","display","clear","height","map","comp","index","zIndex","position","left","top","push","CompanyCode","opacity","logo","name","ShortDesc"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Admin_nav from \"../../components/Admin_nav\";\r\nimport HeaderNav from \"../../components/HeaderNav\";\r\nimport Footer from \"../../components/Footer\";\r\nimport NewCompanyForm from \"../../components/NewCompanyForm\";\r\nimport EditCompanyForm from \"../../components/EditCompanyForm\";\r\n\r\nimport useAuth, { ProtectRoute } from \"../../contexts/auth.js\";\r\nimport { GetCompanys } from \"../../services/api_get\";\r\nimport { mutate } from \"swr\";\r\n\r\nimport { useRouter } from \"next/router\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nfunction companys() {\r\n  const router = useRouter();\r\n\r\n  const { toggler, settoggler, loading } = useAuth();\r\n  const { data, isLoading, isError } = GetCompanys();\r\n\r\n  const results = isLoading ? false : data.data;\r\n  const showSkeleton = isLoading || loading;\r\n\r\n  const [newCompany, setnewCompany] = useState(false);\r\n  const [edit, setedit] = useState(false);\r\n  const [Company, setCompany] = useState([]);\r\n\r\n  /*function prefetch(name) {\r\n    mutate(\r\n      \"api/getCompany?name=\" + name,\r\n      api.get(\"api/getCompany?name=\" + name).then((res) => console.log(res))\r\n    );\r\n    // the second parameter is a Promise\r\n    // SWR will use the result when it resolves\r\n  }*/\r\n\r\n  function GoBackAndTriggerMutation() {\r\n    mutate(\"api/GetCompanys\");\r\n    setedit(false);\r\n    setnewCompany(false);\r\n    //setnewCompany(false);\r\n  }\r\n\r\n  function changenewCompany() {\r\n    setedit(false);\r\n    setnewCompany(false);\r\n  }\r\n  console.log(newCompany);\r\n\r\n  console.log(results);\r\n\r\n  function displayCards(results) {\r\n    return (\r\n      <div>\r\n        <div style={{ float: \"right\" }}>\r\n          <h2 style={{ marginRight: \"0.8em\", display: \"inline\" }}>\r\n            اختر المتجر :\r\n          </h2>\r\n        </div>\r\n        <div style={{ clear: \"both\" }}></div>\r\n        <div class=\"col-xl-12 col-md-12\" style={{ height: \"50px\" }}></div>\r\n        {results.map((comp, index) => {\r\n          return (\r\n            <div\r\n              class=\"col-xl-3 col-md-6\"\r\n              //onMouseEnter={() => prefetch(comp.name)}\r\n            >\r\n              <div class=\"card card-stats\">\r\n                <div\r\n                  class=\"btn btn-icon \"\r\n                  style={{\r\n                    float: \"left\",\r\n                    zIndex: 9999999999,\r\n                    position: \"absolute\",\r\n                    left: 0,\r\n                    top: 17,\r\n                  }}\r\n                  onClick={() => {\r\n                    setedit(true);\r\n                    setnewCompany(true);\r\n                    setCompany(comp);\r\n                    // event.stopPropagation();\r\n                  }}\r\n                >\r\n                  <img\r\n                    width=\"20\"\r\n                    src=\"https://image.flaticon.com/icons/png/512/84/84380.png\"\r\n                  />\r\n                </div>\r\n                <div\r\n                  class=\"card-body\"\r\n                  onClick={() => {\r\n                    console.log(index);\r\n\r\n                    router.push(\r\n                      \"/companys/[name]\",\r\n                      \"/companys/\" + comp.CompanyCode\r\n                    );\r\n\r\n                    //setChoose(\"branch\");\r\n                    // setCompany(comp.branches);\r\n                  }}\r\n                >\r\n                  <div\r\n                    class=\"btn btn-icon \"\r\n                    style={{ float: \"left\", zIndex: 99999999, opacity: 0 }}\r\n                  >\r\n                    <img\r\n                      width=\"20\"\r\n                      src=\"https://image.flaticon.com/icons/png/512/84/84380.png\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div class=\"row\">\r\n                    <div class=\"col-auto\">\r\n                      <div class=\"icon icon-shape bg-gradient-red text-white rounded-circle shadow\">\r\n                        <img width=\"90\" src={comp.logo} />\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col\">\r\n                      <span class=\"h2 font-weight-bold mb-0\">{comp.name}</span>\r\n                      <h5 class=\"card-title text-uppercase text-muted mb-0\">\r\n                        {comp.ShortDesc}\r\n                      </h5>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <body className=\"rtl g-sidenav-show g-sidenav-pinned\" dir=\"rtl\">\r\n      <div>\r\n        {/* Sidenav */}\r\n\r\n        {toggler ? <Admin_nav /> : \"\"}\r\n        {/* Main content */}\r\n\r\n        <div className=\"main-content\" id=\"panel\">\r\n          {/* Topnav */}\r\n          <HeaderNav />\r\n\r\n          <div className=\"container-fluid mt--6\">\r\n            <div className=\"row justify-content-center\">\r\n              <div className=\" col \">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-transparent\">\r\n                    <h3 className=\"mb-0\">الشركات</h3>\r\n                    {newCompany == false ? (\r\n                      <div style={{ float: \"left\" }}>\r\n                        <button\r\n                          onClick={() => {\r\n                            setnewCompany(true);\r\n                            // setChoose(\"branches\");\r\n                          }}\r\n                          class=\"btn btn-icon btn-danger\"\r\n                          type=\"button\"\r\n                        >\r\n                          <span class=\"btn-inner--icon\">إنشاء شركة جديدة</span>\r\n                        </button>\r\n                      </div>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                  {newCompany == false ? (\r\n                    <div className=\"card-body\">\r\n                      {results ? (\r\n                        results == \"No_data\" ? (\r\n                          <h2>لا يوجد بيانات</h2>\r\n                        ) : (\r\n                          displayCards(results)\r\n                        )\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n\r\n                      {showSkeleton ? <Skeleton height={40} count={10} /> : \"\"}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"card-body\">\r\n                      {edit == false ? (\r\n                        <NewCompanyForm changenewCompany={changenewCompany} />\r\n                      ) : (\r\n                        <EditCompanyForm\r\n                          changenewCompany={changenewCompany}\r\n                          GoBackAndTriggerMutation={GoBackAndTriggerMutation}\r\n                          comp={Company}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <Footer />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Argon Scripts */}\r\n        {/* Core */}\r\n        {/* Optional JS */}\r\n        {/* Argon JS */}\r\n      </div>\r\n    </body>\r\n  );\r\n}\r\n\r\nexport default ProtectRoute(companys);\r\n"]},"metadata":{},"sourceType":"module"}